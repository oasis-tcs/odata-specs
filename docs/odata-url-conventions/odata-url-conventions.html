<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="description" content="The Open Data Protocol (OData) enables the creation of REST-based data services, which allow resources, identified using Uniform Resource Locators (URLs) and defined in an Entity Data Model (EDM), to be published and edited by Web clients using simple HTTP messages. This specification defines a set of recommended (but not required) rules for constructing URLs to identify the data and metadata exposed by an OData service as well as a set of reserved URL query string operators." />
  <title>OData Version 4.02. Part 2: URL Conventions</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="styles/markdown-styles-v1.7.3b.css" />
  <link rel="stylesheet" href="styles/odata.css" />
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body>
<p><img src="https://docs.oasis-open.org/templates/OASISLogo-v3.0.png" alt="OASIS Logo" /></p>
<hr />
<h1 id="odata-version-402-part-2-url-conventions">OData Version 4.02. Part 2: URL Conventions</h1>
<h2 id="committee-specification-draft-02">Committee Specification Draft 02</h2>
<h2 id="28-february-2024">28 February 2024</h2>
<p><span class="math inline">\(\hbox{}\)</span></p>
<h4 id="this-stage">This stage:</h4>
<p><a href="https://docs.oasis-open.org/odata/odata/v4.02/csd02/part2-url-conventions/odata-v4.02-csd02-part2-url-conventions.md">https://docs.oasis-open.org/odata/odata/v4.02/csd02/part2-url-conventions/odata-v4.02-csd02-part2-url-conventions.md</a> (Authoritative)<br />
<a href="https://docs.oasis-open.org/odata/odata/v4.02/csd02/part2-url-conventions/odata-v4.02-csd02-part2-url-conventions.html">https://docs.oasis-open.org/odata/odata/v4.02/csd02/part2-url-conventions/odata-v4.02-csd02-part2-url-conventions.html</a><br />
<a href="https://docs.oasis-open.org/odata/odata/v4.02/csd02/part2-url-conventions/odata-v4.02-csd02-part2-url-conventions.pdf">https://docs.oasis-open.org/odata/odata/v4.02/csd02/part2-url-conventions/odata-v4.02-csd02-part2-url-conventions.pdf</a></p>
<h4 id="previous-stage">Previous stage:</h4>
<p><a href="https://docs.oasis-open.org/odata/odata/v4.02/csd01/part2-url-conventions/odata-v4.02-csd01-part2-url-conventions.md">https://docs.oasis-open.org/odata/odata/v4.02/csd01/part2-url-conventions/odata-v4.02-csd01-part2-url-conventions.md</a> (Authoritative)<br />
<a href="https://docs.oasis-open.org/odata/odata/v4.02/csd01/part2-url-conventions/odata-v4.02-csd01-part2-url-conventions.html">https://docs.oasis-open.org/odata/odata/v4.02/csd01/part2-url-conventions/odata-v4.02-csd01-part2-url-conventions.html</a><br />
<a href="https://docs.oasis-open.org/odata/odata/v4.02/csd01/part2-url-conventions/odata-v4.02-csd01-part2-url-conventions.pdf">https://docs.oasis-open.org/odata/odata/v4.02/csd01/part2-url-conventions/odata-v4.02-csd01-part2-url-conventions.pdf</a></p>
<h4 id="latest-stage">Latest stage:</h4>
<p><a href="https://docs.oasis-open.org/odata/odata/v4.02/odata-v4.02-part2-url-conventions.md">https://docs.oasis-open.org/odata/odata/v4.02/odata-v4.02-part2-url-conventions.md</a> (Authoritative)<br />
<a href="https://docs.oasis-open.org/odata/odata/v4.02/odata-v4.02-part2-url-conventions.html">https://docs.oasis-open.org/odata/odata/v4.02/odata-v4.02-part2-url-conventions.html</a><br />
<a href="https://docs.oasis-open.org/odata/odata/v4.02/odata-v4.02-part2-url-conventions.pdf">https://docs.oasis-open.org/odata/odata/v4.02/odata-v4.02-part2-url-conventions.pdf</a></p>
<h4 id="technical-committee">Technical Committee:</h4>
<p><a href="https://www.oasis-open.org/committees/odata/">OASIS Open Data Protocol (OData) TC</a></p>
<h4 id="chairs">Chairs:</h4>
<p>Ralf Handl (<a href="mailto:ralf.handl@sap.com">ralf.handl@sap.com</a>), <a href="http://www.sap.com/">SAP SE</a><br />
Michael Pizzo (<a href="mailto:mikep@microsoft.com">mikep@microsoft.com</a>), <a href="http://www.microsoft.com/">Microsoft</a></p>
<h4 id="editors">Editors:</h4>
<p>Michael Pizzo (<a href="mailto:mikep@microsoft.com">mikep@microsoft.com</a>), <a href="http://www.microsoft.com/">Microsoft</a><br />
Ralf Handl (<a href="mailto:ralf.handl@sap.com">ralf.handl@sap.com</a>), <a href="http://www.sap.com/">SAP SE</a><br />
Heiko Thei√üen (<a href="mailto:heiko.theissen@sap.com">heiko.theissen@sap.com</a>), <a href="http://www.sap.com/">SAP SE</a></p>
<h4 id="additional-artifacts">Additional artifacts:</h4>
<p>This prose specification is one component of a Work Product that also includes:</p>
<ul>
<li><em>OData Version 4.02 Part 1: Protocol</em>. <a href="https://docs.oasis-open.org/odata/odata/v4.02/csd02/part1-protocol/odata-v4.02-csd02-part1-protocol.html">https://docs.oasis-open.org/odata/odata/v4.02/csd02/part1-protocol/odata-v4.02-csd02-part1-protocol.html</a></li>
<li><em>OData Version 4.02 Part 2: URL Conventions</em> (this document). <a href="https://docs.oasis-open.org/odata/odata/v4.02/csd02/part2-url-conventions/odata-v4.02-csd02-part2-url-conventions.html">https://docs.oasis-open.org/odata/odata/v4.02/csd02/part2-url-conventions/odata-v4.02-csd02-part2-url-conventions.html</a></li>
<li>ABNF components: <em>OData ABNF Construction Rules Version 4.02 and OData ABNF Test Cases Version 4.02</em>. <a href="https://docs.oasis-open.org/odata/odata/v4.02/csd02/abnf/">https://docs.oasis-open.org/odata/odata/v4.02/csd02/abnf/</a>.</li>
</ul>
<h4 id="related-work"><a name="RelatedWork">Related work:</a></h4>
<p>This specification replaces or supersedes:</p>
<ul>
<li><em>OData Version 4.01. Part 2: URL Conventions</em>. Edited by Michael Pizzo, Ralf Handl, and Martin Zurmuehl. OASIS Standard. Latest stage: <a href="https://docs.oasis-open.org/odata/odata/v4.01/odata-v4.01-part2-url-conventions.html">https://docs.oasis-open.org/odata/odata/v4.01/odata-v4.01-part2-url-conventions.html</a>.</li>
<li><em>OData Version 4.0. Part 2: URL Conventions</em>. Edited by Michael Pizzo, Ralf Handl, and Martin Zurmuehl. OASIS Standard. Latest stage: <a href="http://docs.oasis-open.org/odata/odata/v4.0/odata-v4.0-part2-url-conventions.html">http://docs.oasis-open.org/odata/odata/v4.0/odata-v4.0-part2-url-conventions.html</a>.</li>
</ul>
<p>This specification is related to:</p>
<ul>
<li><em>OData Vocabularies Version 4.0</em>. Edited by Michael Pizzo, Ralf Handl, and Ram Jeyaraman. Latest stage: <a href="https://docs.oasis-open.org/odata/odata-vocabularies/v4.0/odata-vocabularies-v4.0.html">https://docs.oasis-open.org/odata/odata-vocabularies/v4.0/odata-vocabularies-v4.0.html</a></li>
<li><em>OData Common Schema Definition Language (CSDL) JSON Representation Version 4.02</em>. Edited by Michael Pizzo, Ralf Handl, and Heiko Thei√üen. Latest stage: <a href="https://docs.oasis-open.org/odata/odata-csdl-json/v4.02/odata-csdl-json-v4.02.html">https://docs.oasis-open.org/odata/odata-csdl-json/v4.02/odata-csdl-json-v4.02.html</a></li>
<li><em>OData Common Schema Definition Language (CSDL) XML Representation Version 4.02</em>. Edited by Michael Pizzo, Ralf Handl, and Heiko Thei√üen. Latest stage: <a href="https://docs.oasis-open.org/odata/odata-csdl-xml/v4.02/odata-csdl-xml-v4.02.html">https://docs.oasis-open.org/odata/odata-csdl-xml/v4.02/odata-csdl-xml-v4.02.html</a></li>
<li><em>OData JSON Format Version 4.02</em>. Edited by Michael Pizzo, Ralf Handl, and Heiko Thei√üen. Latest stage: <a href="https://docs.oasis-open.org/odata/odata-json-format/v4.02/odata-json-format-v4.02.html">https://docs.oasis-open.org/odata/odata-json-format/v4.02/odata-json-format-v4.02.html</a></li>
<li><em>OData Data Aggregation Extension Version 4.0</em>. Edited by Ralf Handl, Hubert Heijkers, Gerald Krause, Michael Pizzo, Heiko Thei√üen, and Martin Zurmuehl. Latest stage: <a href="https://docs.oasis-open.org/odata/odata-data-aggregation-ext/v4.0/odata-data-aggregation-ext-v4.0.html">https://docs.oasis-open.org/odata/odata-data-aggregation-ext/v4.0/odata-data-aggregation-ext-v4.0.html</a></li>
<li><em>OData Extension for Temporal Data Version 4.0</em>. Edited by Ralf Handl, Hubert Heijkers, Gerald Krause, Michael Pizzo, Heiko Thei√üen, and Martin Zurmuehl. Latest stage: <a href="https://docs.oasis-open.org/odata/odata-temporal-ext/v4.0/odata-temporal-ext-v4.0.html">https://docs.oasis-open.org/odata/odata-temporal-ext/v4.0/odata-temporal-ext-v4.0.html</a></li>
</ul>
<h4 id="abstract">Abstract:</h4>
<p>The Open Data Protocol (OData) enables the creation of REST-based data services, which allow resources, identified using Uniform Resource Locators (URLs) and defined in an Entity Data Model (EDM), to be published and edited by Web clients using simple HTTP messages. This specification defines a set of recommended (but not required) rules for constructing URLs to identify the data and metadata exposed by an OData service as well as a set of reserved URL query string operators.</p>
<h4 id="status">Status:</h4>
<p>This document was last revised or approved by the OASIS Open Data Protocol (OData) TC on the above date. The level of approval is also listed above. Check the ‚ÄúLatest stage‚Äù location noted above for possible later revisions of this document. Any other numbered Versions and other technical work produced by the Technical Committee (TC) are listed at <a href="https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=odata#technical">https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=odata#technical</a>.</p>
<p>TC members should send comments on this specification to the TC‚Äôs email list. Others should send comments to the TC‚Äôs public comment list, after subscribing to it by following the instructions at the ‚Äú<a href="https://www.oasis-open.org/committees/comments/index.php?wg_abbrev=odata">Send A Comment</a>‚Äù button on the TC‚Äôs web page at <a href="https://www.oasis-open.org/committees/odata/">https://www.oasis-open.org/committees/odata/</a>.</p>
<p>This specification is provided under the <a href="https://www.oasis-open.org/policies-guidelines/ipr/#RF-on-RAND-Mode">RF on RAND Terms Mode</a> of the <a href="https://www.oasis-open.org/policies-guidelines/ipr/">OASIS IPR Policy</a>, the mode chosen when the Technical Committee was established. For information on whether any patents have been disclosed that may be essential to implementing this specification, and any offers of patent licensing terms, please refer to the Intellectual Property Rights section of the TC‚Äôs web page (<a href="https://www.oasis-open.org/committees/odata/ipr.php">https://www.oasis-open.org/committees/odata/ipr.php</a>).</p>
<p>Note that any machine-readable content (<a href="https://www.oasis-open.org/policies-guidelines/tc-process-2017-05-26/#wpComponentsCompLang">Computer Language Definitions</a>) declared Normative for this Work Product is provided in separate plain text files. In the event of a discrepancy between any such plain text file and display content in the Work Product‚Äôs prose narrative document(s), the content in the separate plain text file prevails.</p>
<h4 id="key-words">Key words:</h4>
<p>The key words ‚ÄúMUST‚Äù, ‚ÄúMUST NOT‚Äù, ‚ÄúREQUIRED‚Äù, ‚ÄúSHALL‚Äù, ‚ÄúSHALL NOT‚Äù, ‚ÄúSHOULD‚Äù, ‚ÄúSHOULD NOT‚Äù, ‚ÄúRECOMMENDED‚Äù, ‚ÄúNOT RECOMMENDED‚Äù, ‚ÄúMAY‚Äù, and ‚ÄúOPTIONAL‚Äù in this document are to be interpreted as described in BCP 14 <a href="#rfc2119">RFC2119</a> and <a href="#rfc8174">RFC8174</a> when, and only when, they appear in all capitals, as shown here.</p>
<h4 id="citation-format">Citation format:</h4>
<p>When referencing this specification the following citation format should be used:</p>
<p><strong>[OData-v4.02-Part2]</strong></p>
<p><em>OData Version 4.02. Part 2: URL Conventions</em>. Edited by Michael Pizzo, Ralf Handl, and Heiko Thei√üen. 28 February 2024. OASIS Committee Specification Draft 02. <a href="https://docs.oasis-open.org/odata/odata/v4.02/csd02/odata-v4.02-csd02-part2-url-conventions.html">https://docs.oasis-open.org/odata/odata/v4.02/csd02/odata-v4.02-csd02-part2-url-conventions.html</a>. Latest stage: <a href="https://docs.oasis-open.org/odata/odata/v4.02/odata-v4.02-part2-url-conventions.html">https://docs.oasis-open.org/odata/odata/v4.02/odata-v4.02-part2-url-conventions.html</a>.</p>
<h4 id="notices">Notices</h4>
<p>Copyright ¬© OASIS Open 2024. All Rights Reserved.</p>
<p>Distributed under the terms of the OASIS <a href="https://www.oasis-open.org/policies-guidelines/ipr/">IPR Policy</a>.</p>
<p>The name ‚ÄúOASIS‚Äù is a trademark of <a href="https://www.oasis-open.org/">OASIS</a>, the owner and developer of this specification, and should be used only to refer to the organization and its official outputs.</p>
<p>For complete copyright information please see the full Notices section in an Appendix below.</p>
<hr />
<h1 id="table-of-contents">Table of Contents</h1>
<div class="toc">
<ul>
<li><a href="#Introduction">1 Introduction</a>
<ul>
<li><a href="#ChangesfromEarlierVersions">1.1 Changes from Earlier Versions</a></li>
<li><a href="#Glossary">1.2 Glossary</a>
<ul>
<li><a href="#DefinitionsofTerms">1.2.1 Definitions of Terms</a></li>
<li><a href="#AcronymsandAbbreviations">1.2.2 Acronyms and Abbreviations</a></li>
<li><a href="#DocumentConventions">1.2.3 Document Conventions</a></li>
</ul></li>
</ul></li>
<li><a href="#URLComponents">2 URL Components</a>
<ul>
<li><a href="#URLParsing">2.1 URL Parsing</a></li>
<li><a href="#URLSyntax">2.2 URL Syntax</a></li>
</ul></li>
<li><a href="#ServiceRootURL">3 Service Root URL</a></li>
<li><a href="#ResourcePath">4 Resource Path</a>
<ul>
<li><a href="#AddressingtheModelforaService">4.1 Addressing the Model for a Service</a></li>
<li><a href="#AddressingtheBatchEndpointforaService">4.2 Addressing the Batch Endpoint for a Service</a></li>
<li><a href="#AddressingEntities">4.3 Addressing Entities</a>
<ul>
<li><a href="#CanonicalURL">4.3.1 Canonical URL</a></li>
<li><a href="#CanonicalURLforContainedEntities">4.3.2 Canonical URL for Contained Entities</a></li>
<li><a href="#URLsforRelatedEntitieswithReferentialConstraints">4.3.3 URLs for Related Entities with Referential Constraints</a></li>
<li><a href="#ResolvinganEntityId">4.3.4 Resolving an Entity-Id</a></li>
<li><a href="#AlternateKeys">4.3.5 Alternate Keys</a></li>
<li><a href="#KeyasSegmentConvention">4.3.6 Key-as-Segment Convention</a></li>
</ul></li>
<li><a href="#AddressingReferencesbetweenEntities">4.4 Addressing References between Entities</a></li>
<li><a href="#AddressingOperations">4.5 Addressing Operations</a>
<ul>
<li><a href="#AddressingActions">4.5.1 Addressing Actions</a></li>
<li><a href="#AddressingFunctions">4.5.2 Addressing Functions</a></li>
</ul></li>
<li><a href="#AddressingaProperty">4.6 Addressing a Property</a></li>
<li><a href="#AddressingaRawValue">4.7 Addressing a Raw Value</a></li>
<li><a href="#AddressingtheCountofaCollection">4.8 Addressing the Count of a Collection</a></li>
<li><a href="#AddressingaMemberwithinanEntityCollection">4.9 Addressing a Member within an Entity Collection</a></li>
<li><a href="#AddressingaMemberofanOrderedCollection">4.10 Addressing a Member of an Ordered Collection</a></li>
<li><a href="#AddressingDerivedTypes">4.11 Addressing Derived Types</a></li>
<li><a href="#AddressingaSubsetofaCollection">4.12 Addressing a Subset of a Collection</a></li>
<li><a href="#AddressingEachMemberofaCollection">4.13 Addressing Each Member of a Collection</a></li>
<li><a href="#AddressingtheMediaStreamofaMediaEntity">4.14 Addressing the Media Stream of a Media Entity</a></li>
<li><a href="#AddressingtheCrossJoinofEntitySets">4.15 Addressing the Cross Join of Entity Sets</a></li>
<li><a href="#AddressingAllEntitiesinaService">4.16 Addressing All Entities in a Service</a></li>
<li><a href="#PassingQueryOptionsintheRequestBody">4.17 Passing Query Options in the Request Body</a></li>
</ul></li>
<li><a href="#QueryOptions">5 Query Options</a>
<ul>
<li><a href="#SystemQueryOptions">5.1 System Query Options</a>
<ul>
<li><a href="#CommonExpressionSyntax">5.1.1 Common Expression Syntax</a>
<ul>
<li><a href="#LogicalOperators">5.1.1.1 Logical Operators</a>
<ul>
<li><a href="#Equals">5.1.1.1.1 Equals</a></li>
<li><a href="#NotEquals">5.1.1.1.2 Not Equals</a></li>
<li><a href="#GreaterThan">5.1.1.1.3 Greater Than</a></li>
<li><a href="#GreaterThanorEqual">5.1.1.1.4 Greater Than or Equal</a></li>
<li><a href="#LessThan">5.1.1.1.5 Less Than</a></li>
<li><a href="#LessThanorEqual">5.1.1.1.6 Less Than or Equal</a></li>
<li><a href="#And">5.1.1.1.7 And</a></li>
<li><a href="#Or">5.1.1.1.8 Or</a></li>
<li><a href="#Not">5.1.1.1.9 Not</a></li>
<li><a href="#Has">5.1.1.1.10 Has</a></li>
<li><a href="#In">5.1.1.1.11 In</a></li>
<li><a href="#LogicalOperatorExamples">5.1.1.1.12 Logical Operator Examples</a></li>
</ul></li>
<li><a href="#ArithmeticOperators">5.1.1.2 Arithmetic Operators</a>
<ul>
<li><a href="#Addition">5.1.1.2.1 Addition</a></li>
<li><a href="#Subtraction">5.1.1.2.2 Subtraction</a></li>
<li><a href="#Negation">5.1.1.2.3 Negation</a></li>
<li><a href="#Multiplication">5.1.1.2.4 Multiplication</a></li>
<li><a href="#Division">5.1.1.2.5 Division</a></li>
<li><a href="#Modulo">5.1.1.2.6 Modulo</a></li>
<li><a href="#ArithmeticOperatorExamples">5.1.1.2.7 Arithmetic Operator Examples</a></li>
</ul></li>
<li><a href="#Grouping">5.1.1.3 Grouping</a></li>
<li><a href="#CanonicalFunctions">5.1.1.4 Canonical Functions</a></li>
<li><a href="#StringandCollectionFunctions">5.1.1.5 String and Collection Functions</a>
<ul>
<li><a href="#concat">5.1.1.5.1 <code>concat</code></a></li>
<li><a href="#contains">5.1.1.5.2 <code>contains</code></a></li>
<li><a href="#endswith">5.1.1.5.3 <code>endswith</code></a></li>
<li><a href="#indexof">5.1.1.5.4 <code>indexof</code></a></li>
<li><a href="#length">5.1.1.5.5 <code>length</code></a></li>
<li><a href="#startswith">5.1.1.5.6 <code>startswith</code></a></li>
<li><a href="#substring">5.1.1.5.7 <code>substring</code></a></li>
</ul></li>
<li><a href="#CollectionFunctions">5.1.1.6 Collection Functions</a>
<ul>
<li><a href="#hassubset">5.1.1.6.1 <code>hassubset</code></a></li>
<li><a href="#hassubsequence">5.1.1.6.2 <code>hassubsequence</code></a></li>
</ul></li>
<li><a href="#StringFunctions">5.1.1.7 String Functions</a>
<ul>
<li><a href="#matchespattern">5.1.1.7.1 <code>matchespattern</code></a></li>
<li><a href="#tolower">5.1.1.7.2 <code>tolower</code></a></li>
<li><a href="#toupper">5.1.1.7.3 <code>toupper</code></a></li>
<li><a href="#trim">5.1.1.7.4 <code>trim</code></a></li>
</ul></li>
<li><a href="#DateandTimeFunctions">5.1.1.8 Date and Time Functions</a>
<ul>
<li><a href="#date">5.1.1.8.1 <code>date</code></a></li>
<li><a href="#day">5.1.1.8.2 <code>day</code></a></li>
<li><a href="#fractionalseconds">5.1.1.8.3 <code>fractionalseconds</code></a></li>
<li><a href="#hour">5.1.1.8.4 <code>hour</code></a></li>
<li><a href="#maxdatetime">5.1.1.8.5 <code>maxdatetime</code></a></li>
<li><a href="#mindatetime">5.1.1.8.6 <code>mindatetime</code></a></li>
<li><a href="#minute">5.1.1.8.7 <code>minute</code></a></li>
<li><a href="#month">5.1.1.8.8 <code>month</code></a></li>
<li><a href="#now">5.1.1.8.9 <code>now</code></a></li>
<li><a href="#second">5.1.1.8.10 <code>second</code></a></li>
<li><a href="#time">5.1.1.8.11 <code>time</code></a></li>
<li><a href="#totaloffsetminutes">5.1.1.8.12 <code>totaloffsetminutes</code></a></li>
<li><a href="#totalseconds">5.1.1.8.13 <code>totalseconds</code></a></li>
<li><a href="#year">5.1.1.8.14 <code>year</code></a></li>
</ul></li>
<li><a href="#ArithmeticFunctions">5.1.1.9 Arithmetic Functions</a>
<ul>
<li><a href="#ceiling">5.1.1.9.1 <code>ceiling</code></a></li>
<li><a href="#floor">5.1.1.9.2 <code>floor</code></a></li>
<li><a href="#round">5.1.1.9.3 <code>round</code></a></li>
</ul></li>
<li><a href="#TypeFunctions">5.1.1.10 Type Functions</a>
<ul>
<li><a href="#cast">5.1.1.10.1 <code>cast</code></a></li>
<li><a href="#isof">5.1.1.10.2 <code>isof</code></a></li>
</ul></li>
<li><a href="#GeoFunctions">5.1.1.11 Geo Functions</a>
<ul>
<li><a href="#geodistance">5.1.1.11.1 <code>geo.distance</code></a></li>
<li><a href="#geointersects">5.1.1.11.2 <code>geo.intersects</code></a></li>
<li><a href="#geolength">5.1.1.11.3 <code>geo.length</code></a></li>
</ul></li>
<li><a href="#ConditionalFunctions">5.1.1.12 Conditional Functions</a>
<ul>
<li><a href="#case">5.1.1.12.1 <code>case</code></a></li>
</ul></li>
<li><a href="#LambdaOperators">5.1.1.13 Lambda Operators</a>
<ul>
<li><a href="#any">5.1.1.13.1 <code>any</code></a></li>
<li><a href="#all">5.1.1.13.2 <code>all</code></a></li>
</ul></li>
<li><a href="#Literals">5.1.1.14 Literals</a>
<ul>
<li><a href="#PrimitiveLiterals">5.1.1.14.1 Primitive Literals</a></li>
<li><a href="#ComplexandCollectionLiterals">5.1.1.14.2 Complex and Collection Literals</a></li>
<li><a href="#null">5.1.1.14.3 <code>null</code></a></li>
<li><a href="#it">5.1.1.14.4 <code>$it</code></a></li>
<li><a href="#root">5.1.1.14.5 <code>$root</code></a></li>
<li><a href="#this">5.1.1.14.6 <code>$this</code></a></li>
</ul></li>
<li><a href="#PathExpressions">5.1.1.15 Path Expressions</a></li>
<li><a href="#AnnotationValuesinExpressions">5.1.1.16 Annotation Values in Expressions</a></li>
<li><a href="#OperatorPrecedence">5.1.1.17 Operator Precedence</a></li>
<li><a href="#NumericPromotion">5.1.1.18 Numeric Promotion</a></li>
</ul></li>
<li><a href="#SystemQueryOptionfilter">5.1.2 System Query Option <code>$filter</code></a></li>
<li><a href="#SystemQueryOptionexpand">5.1.3 System Query Option <code>$expand</code></a></li>
<li><a href="#SystemQueryOptionselect">5.1.4 System Query Option <code>$select</code></a></li>
<li><a href="#SystemQueryOptionorderby">5.1.5 System Query Option <code>$orderby</code></a></li>
<li><a href="#SystemQueryOptionstopandskip">5.1.6 System Query Options <code>$top</code> and <code>$skip</code></a></li>
<li><a href="#SystemQueryOptioncount">5.1.7 System Query Option <code>$count</code></a></li>
<li><a href="#SystemQueryOptionsearch">5.1.8 System Query Option <code>$search</code></a>
<ul>
<li><a href="#SearchExpressions">5.1.8.1 Search Expressions</a></li>
</ul></li>
<li><a href="#SystemQueryOptionformat">5.1.9 System Query Option <code>$format</code></a></li>
<li><a href="#SystemQueryOptioncompute">5.1.10 System Query Option <code>$compute</code></a></li>
<li><a href="#SystemQueryOptionindex">5.1.11 System Query Option <code>$index</code></a></li>
<li><a href="#SystemQueryOptionschemaversion">5.1.12 System Query Option <code>$schemaversion</code></a></li>
</ul></li>
<li><a href="#CustomQueryOptions">5.2 Custom Query Options</a></li>
<li><a href="#ParameterAliases">5.3 Parameter Aliases</a></li>
</ul></li>
<li><a href="#Conformance">6 Conformance</a></li>
<li><a href="#References">A References</a>
<ul>
<li><a href="#NormativeReferences">A.1 Normative References</a></li>
<li><a href="#InformativeReferences">A.2 Informative References</a></li>
</ul></li>
<li><a href="#SafetySecurityandPrivacyConsiderations">B Safety, Security and Privacy Considerations</a></li>
<li><a href="#Acknowledgments">C Acknowledgments</a>
<ul>
<li><a href="#Participants">C.1 Participants</a></li>
</ul></li>
<li><a href="#RevisionHistory">D Revision History</a></li>
<li><a href="#Notices">E Notices</a></li>
</ul>
</div>
<hr />
<h1 id="1-introduction"><a name="Introduction" href="#Introduction">1 Introduction</a></h1>
<p>The Open Data Protocol (OData) enables the creation of REST-based data services, which allow resources, identified using Uniform Resource Locators (URLs) and defined in a data model, to be published and edited by Web clients using simple HTTP messages. This specification defines a set of recommended (but not required) rules for constructing URLs to identify the data and metadata exposed by an OData service as well as a set of reserved URL query string operators, which if accepted by an OData service, MUST be implemented as required by this document.</p>
<p>The <a href="#ODataJSON">OData-JSON</a> document specifies the format of the resource representations that are exchanged using OData and the <a href="#ODataProtocol">OData-Protocol</a> document describes the actions that can be performed on the URLs (optionally constructed following the conventions defined in this document) embedded in those representations.</p>
<p>Services are encouraged to follow the URL construction conventions defined in this specification when possible as consistency promotes an ecosystem of reusable client components and libraries.</p>
<h2 id="11-changes-from-earlier-versions"><a name="ChangesfromEarlierVersions" href="#ChangesfromEarlierVersions">1.1 Changes from Earlier Versions</a></h2>
<table>
<thead>
<tr class="header">
<th>Section</th>
<th>Feature / Change</th>
<th>Issue</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#matchespattern">Section 5.1.1.7.1</a></td>
<td>New overload for function <code>matchespattern</code> with flags</td>
<td><a href="https://github.com/oasis-tcs/odata-specs/issues/441">441</a></td>
</tr>
</tbody>
</table>
<h2 id="12-glossary"><a name="Glossary" href="#Glossary">1.2 Glossary</a></h2>
<h3 id="121-definitions-of-terms"><a name="DefinitionsofTerms" href="#DefinitionsofTerms">1.2.1 Definitions of Terms</a></h3>
<h3 id="122-acronyms-and-abbreviations"><a name="AcronymsandAbbreviations" href="#AcronymsandAbbreviations">1.2.2 Acronyms and Abbreviations</a></h3>
<!-- TODO -->

<h3 id="123-document-conventions"><a name="DocumentConventions" href="#DocumentConventions">1.2.3 Document Conventions</a></h3>
<p>Keywords defined by this specification use <code>this  monospaced  font</code>.</p>
<p>Function signatures in this specification use the following paragraph style:</p>
<pre><code>Type FunctionName(Type Param1, Type Param2)</code></pre>
<p>Some sections of this specification are illustrated with non-normative examples.</p>
<div class="example">
<p>Example 1: text describing an example uses this paragraph style</p>
<pre><code>Non-normative examples use this paragraph style.</code></pre>
</div>
<p>All examples in this document are non-normative and informative only.</p>
<p>All other text is normative unless otherwise labeled.</p>
<!--
Here is a customized command line which will generate HTML from the markdown file (named `odata-v4.02-csd02-part2-url-conventions.md`). Line breaks are added for readability only:

```
pandoc -f gfm+tex_math_dollars+fenced_divs+smart
       -t html
       -o odata-v4.02-csd02-part2-url-conventions.html
       -c styles/markdown-styles-v1.7.3b.css
       -c styles/odata.css
       -s
       --mathjax
       --eol=lf
       --wrap=none
       --metadata pagetitle="OData Version 4.02. Part 2: URL Conventions"
       odata-v4.02-csd02-part2-url-conventions.md
```

This uses pandoc 3.1.12.2 from https://github.com/jgm/pandoc/releases/tag/3.1.12.2.
-->

<hr />
<h1 id="2-url-components"><a name="URLComponents" href="#URLComponents">2 URL Components</a></h1>
<p>A URL used by an OData service has at most three significant parts: the <em>service root URL</em>, the <em>resource path</em>, and <em>query options</em>. Additional URL constructs (such as a fragment) can be present in a URL used by an OData service; however, this specification applies no further meaning to such additional constructs.</p>
<div class="example">
<p>Example 2: OData URL broken down into its component parts:</p>
<pre><code>http://host:port/path/SampleService.svc/Categories(1)/Products?$top=2&amp;$orderby=Name
\______________________________________/\____________________/ \__________________/
                  |                               |                       |
          service root URL                  resource path           query options</code></pre>
</div>
<p>Mandated and suggested content of these three significant URL components used by an OData service are covered in sequence in the three following chapters.</p>
<h2 id="21-url-parsing"><a name="URLParsing" href="#URLParsing">2.1 URL Parsing</a></h2>
<p>OData follows the URI syntax rules defined in <a href="#rfc3986">RFC3986</a> and in addition assigns special meaning to several of the sub-delimiters defined by <a href="#rfc3986">RFC3986</a>, so special care has to be taken regarding parsing and percent-decoding.</p>
<p><a href="#rfc3986">RFC3986</a> defines three steps for URL processing that MUST be performed before percent-decoding:</p>
<ul>
<li>Split undecoded URL into components scheme, hier-part, query, and fragment</li>
<li>Split undecoded hier-part into authority and path</li>
<li>Split undecoded path into path segments</li>
</ul>
<p>After applying these steps defined by RFC3986 the following steps MUST be performed:</p>
<ul>
<li>Split undecoded query at ‚Äú<code>&amp;</code>‚Äù (octet <code>0x26</code>) into query options, and each query option at the first ‚Äú<code>=</code>‚Äù (octet <code>0x3D</code>) into query option name and query option value</li>
<li>Percent-decode path segments, query option names, and query option values exactly once</li>
<li>Interpret path segments, query option names, and query option values according to OData rules</li>
</ul>
<p>Note: neither <a href="#rfc3986">RFC3986</a> nor this specification assign special meaning to ‚Äú<code>+</code>‚Äù (octet <code>0x2B</code>). Some implementations decode ‚Äú<code>+</code>‚Äù (octet <code>0x2B</code>) as space (octet <code>0x20</code>), others take it literally.</p>
<p>Clients SHOULD percent-encode space (octet <code>0x20</code>) as <code>%20</code> and ‚Äú<code>+</code>‚Äù (octet <code>0x2B</code>) as <code>%2B</code> and avoid the ambiguous ‚Äú<code>+</code>‚Äù (octet <code>0x2B</code>) in URLs.</p>
<h2 id="22-url-syntax"><a name="URLSyntax" href="#URLSyntax">2.2 URL Syntax</a></h2>
<p>The OData syntax rules for URLs are defined in this document and the <a href="#ODataABNF">OData-ABNF</a>. Note that the ABNF is not expressive enough to define what a correct OData URL is in every imaginable use case. This specification document defines additional rules that a correct OData URL MUST fulfill. In case of doubt on what makes an OData URL correct the rules defined in this specification document take precedence. Note also that the rules in <a href="#ODataABNF">OData-ABNF</a> assume that URLs and URL parts have been percent-encoding normalized as described in <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-6.2.2.2">section 6.2.2.2</a> of <a href="#rfc3986">RFC3986</a> before applying the grammar to them, i.e. all characters in the unreserved set (see rule <code>unreserved</code> in <a href="#ODataABNF">OData-ABNF</a>) are plain literals and not percent-encoded. For characters outside of the unreserved set that are significant to OData the ABNF rules explicitly state whether the percent-encoded representation is treated identical to the plain literal representation. This is done to make the input strings in the ABNF test cases more readable.</p>
<p>For example, one of these rules is that single quotes within string literals are represented as two consecutive single quotes.</p>
<div class="example">
<p>Example 3: valid OData URLs:</p>
<pre><code>http://host/service/People(&#39;O&#39;&#39;Neil&#39;)</code></pre>
<pre><code>http://host/service/People(%27O%27%27Neil%27)</code></pre>
<pre><code>http://host/service/People%28%27O%27%27Neil%27%29</code></pre>
<pre><code>http://host/service/Categories(&#39;Smartphone%2FTablet&#39;)</code></pre>
</div>
<div class="example">
<p>Example 4: invalid OData URLs:</p>
<pre><code>http://host/service/People(&#39;O&#39;Neil&#39;)</code></pre>
<pre><code>http://host/service/People(&#39;O%27Neil&#39;)</code></pre>
<pre><code>http://host/service/Categories(&#39;Smartphone/Tablet&#39;)</code></pre>
</div>
<p>The first and second examples are invalid because a single quote in a string literal must be represented as two consecutive single quotes. The third example is invalid because forward slashes are interpreted as path segment separators and <code>Categories('Smartphone</code> is not a valid OData path segment, nor is <code>Tablet')</code>.</p>
<hr />
<h1 id="3-service-root-url"><a name="ServiceRootURL" href="#ServiceRootURL">3 Service Root URL</a></h1>
<p>The service root URL identifies the root of an OData service. A <code>GET</code> request to this URL returns the format-specific service document, see <a href="#ODataJSON">OData-JSON</a>.</p>
<p>The service root URL MUST terminate in a forward slash.</p>
<p>The service document enables simple hypermedia-driven clients to enumerate and explore the resources published by the OData service.</p>
<hr />
<h1 id="4-resource-path"><a name="ResourcePath" href="#ResourcePath">4 Resource Path</a></h1>
<p>The rules for resource path construction as defined in this section are optional. OData services SHOULD follow the subsequently described URL path construction rules and are indeed encouraged to do so; as such consistency promotes a rich ecosystem of reusable client components and libraries.</p>
<p>Services that do not follow the resource path conventions for entity container children are strongly encouraged to document their resource paths by annotating entity container children with the term <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#ResourcePath"><code>Core.ResourcePath</code></a> defined in <a href="#ODataVocCore">OData-VocCore</a>. The annotation value is the URL of the annotated resource and may be relative to <code>xml:base</code> (if present), otherwise the request URL.</p>
<p>Resources exposed by an OData service are addressable by corresponding resource path URL components to enable interaction of the client with that resource aspect.</p>
<p>To illustrate the concept, some examples for resources might be: customers, a single customer, orders related to a single customer, and so forth. Examples of addressable aspects of these resources as exposed by the data model might be: collections of entities, a single entity, properties, links, operations, and so on.</p>
<p>An OData service MAY respond with <code>301 Moved Permanently</code> or <code>307 Temporary Redirect</code> from the canonical URL to the actual URL.</p>
<h2 id="41-addressing-the-model-for-a-service"><a name="AddressingtheModelforaService" href="#AddressingtheModelforaService">4.1 Addressing the Model for a Service</a></h2>
<p>OData services expose their entity model according to <a href="#ODataCSDL">OData-CSDLJSON</a> or <a href="#ODataCSDL">OData-CSDLXML</a> at the metadata URL, formed by appending <code>$metadata</code> to the <a href="#ServiceRootURL">service root URL</a>.</p>
<div class="example">
<p>Example 5: Metadata document URL</p>
<pre><code>http://host/service/$metadata</code></pre>
</div>
<p>OData clients may request a particular format for metadata either through the <code>Accept</code> header or by using the <a href="#SystemQueryOptionformat"><code>$format</code></a> system query option.</p>
<div class="example">
<p>Example 6: Metadata document URL with specified format</p>
<pre><code>http://host/service/$metadata?$format=json</code></pre>
</div>
<h2 id="42-addressing-the-batch-endpoint-for-a-service"><a name="AddressingtheBatchEndpointforaService" href="#AddressingtheBatchEndpointforaService">4.2 Addressing the Batch Endpoint for a Service</a></h2>
<p>OData services that support batch requests expose a batch URL formed by appending <code>$batch</code> to the <a href="#ServiceRootURL">service root URL</a>.</p>
<div class="example">
<p>Example 7: batch URL</p>
<pre><code>http://host/service/$batch</code></pre>
</div>
<h2 id="43-addressing-entities"><a name="AddressingEntities" href="#AddressingEntities">4.3 Addressing Entities</a></h2>
<p>The basic rules for addressing a collection (of entities), a single entity within a collection, a singleton, as well as a property of an entity are covered in the <code>resourcePath</code> syntax rule in <a href="#ODataABNF">OData-ABNF</a>.</p>
<p>Below is a (non-normative) snippet from <a href="#ODataABNF">OData-ABNF</a>:</p>
<pre><code>resourcePath = entitySetName                  [collectionNavigation]
             / singletonEntity                [singleNavigation]
             / actionImportCall
             / entityColFunctionImportCall    [ collectionNavigation ]
             / entityFunctionImportCall       [ singleNavigation ]
             / complexColFunctionImportCall   [ collectionPath ]
             / complexFunctionImportCall      [ complexPath ]
             / primitiveColFunctionImportCall [ collectionPath ]
             / primitiveFunctionImportCall    [ primitivePath ]
             / functionImportCallNoParens     [ querySegment ]
             / crossjoin                      [ querySegment ]
             / %s&quot;$all&quot;                       [ &quot;/&quot; optionallyQualifiedEntityTypeName ]</code></pre>
<p>Since OData has a uniform composable URL syntax and associated rules there are many ways to address a collection of entities, including, but not limited to:</p>
<ul>
<li>Via an entity set (see rule <code>entitySetName</code> in <a href="#ODataABNF">OData-ABNF</a>)</li>
</ul>
<div class="example">
<p>Example 8:</p>
<pre><code>http://host/service/Products</code></pre>
</div>
<ul>
<li>By navigating a collection-valued navigation property (see rule: <code>entityColNavigationProperty</code>)</li>
<li>By invoking a function import that returns a collection of entities (see rule: <code>entityColFunctionImportCall</code>)</li>
</ul>
<div class="example">
<p>Example 9: function with parameters in resource path</p>
<pre><code>http://host/service/ProductsByCategoryId(categoryId=2)</code></pre>
</div>
<div class="example">
<p>Example 10: function with parameters as query options</p>
<pre><code>http://host/service/ProductsByColor(color=@color)?@color=&#39;red&#39;</code></pre>
</div>
<ul>
<li>By invoking an action import that returns a collection of entities (see rule: <code>actionImportCall</code>)</li>
</ul>
<p>Likewise there are many ways to address a single entity.</p>
<p>Sometimes a single entity can be accessed directly, for example by:</p>
<ul>
<li>Invoking a function import that returns a single entity (see rule: <code>entityFunctionImportCall</code>)</li>
<li>Invoking an action import that returns a single entity (see rule: <code>actionImportCall</code>)</li>
<li>Addressing a singleton</li>
</ul>
<div class="example">
<p>Example 11:</p>
<pre><code>http://host/service/BestProductEverCreated</code></pre>
</div>
<p>Often however a single entity is accessed by composing more path segments to a <code>resourcePath</code> that identifies a collection of entities, for example by:</p>
<ul>
<li>Using an entity key to select a single entity (see rules: <code>collectionNavigation</code> and <code>keyPredicate</code>)</li>
</ul>
<div class="example">
<p>Example 12:</p>
<pre><code>http://host/service/Categories(1)</code></pre>
</div>
<ul>
<li>Invoking an action bound to a collection of entities that returns a single entity (see rule: <code>boundOperation</code>)</li>
<li>Invoking an function bound to a collection of entities that returns a single entity (see rule: <code>boundOperation</code>)</li>
</ul>
<div class="example">
<p>Example 13:</p>
<pre><code>http://host/service/Products/Model.MostExpensive()</code></pre>
</div>
<p>These rules are recursive, so it is possible to address a single entity via another single entity, a collection via a single entity and even a collection via a collection; examples include, but are not limited to:</p>
<ul>
<li>By following a navigation from a single entity to another related entity (see rule: <code>entityNavigationProperty</code>)</li>
</ul>
<div class="example">
<p>Example 14:</p>
<pre><code>http://host/service/Products(1)/Supplier</code></pre>
</div>
<ul>
<li>By invoking a function bound to a single entity that returns a single entity (see rule: <code>boundOperation</code>)</li>
</ul>
<div class="example">
<p>Example 15:</p>
<pre><code>http://host/service/Products(1)/Model.MostRecentOrder()</code></pre>
</div>
<ul>
<li>By invoking an action bound to a single entity that returns a single entity (see rule: <code>boundOperation</code>)</li>
<li>By following a navigation from a single entity to a related collection of entities (see rule: <code>entityColNavigationProperty</code>)</li>
</ul>
<div class="example">
<p>Example 16:</p>
<pre><code>http://host/service/Categories(1)/Products</code></pre>
</div>
<ul>
<li>By invoking a function bound to a single entity that returns a collection of entities (see rule: <code>boundOperation</code>)</li>
</ul>
<div class="example">
<p>Example 17:</p>
<pre><code>http://host/service/Categories(1)/Model.TopTenProducts()</code></pre>
</div>
<ul>
<li>By invoking an action bound to a single entity that returns a collection of entities (see rule: <code>boundOperation</code>)</li>
<li>By invoking a function bound to a collection of entities that returns a collection of entities (see rule: <code>boundOperation</code>)</li>
</ul>
<div class="example">
<p>Example 18:</p>
<pre><code>http://host/service/Categories(1)/Products/Model.AllOrders()</code></pre>
</div>
<ul>
<li>By invoking an action bound to a collection of entities that returns a collection of entities (see rule: <code>boundOperation</code>)</li>
</ul>
<p>Finally it is possible to compose path segments onto a resource path that identifies a primitive, complex instance, collection of primitives or collection of complex instances and bind an action or function that returns an entity or collections of entities.</p>
<h3 id="431-canonical-url"><a name="CanonicalURL" href="#CanonicalURL">4.3.1 Canonical URL</a></h3>
<p>For OData services conformant with the addressing conventions in this section, the canonical form of an absolute URL identifying a non-contained entity is formed by adding a single path segment to the service root URL. The path segment is made up of the name of the entity set associated with the entity followed by the key predicate identifying the entity within the collection. No <a href="#AddressingDerivedTypes">type-cast segment</a> is added to the canonical URL, even if the entity is an instance of a type derived from the declared entity type of its entity set.</p>
<p>The canonical key predicate for single-part keys consists only of the key property value without the key property name. For multi-part keys the key properties appear in the same order they appear in the key definition in the service metadata.</p>
<div class="example">
<p>Example 19: Non-canonical URL</p>
<pre><code>http://host/service/Categories(ID=1)/Products(ID=1)</code></pre>
</div>
<div class="example">
<p>Example 20: Canonical URL for previous example:</p>
<pre><code>http://host/service/Products(1)</code></pre>
</div>
<h3 id="432-canonical-url-for-contained-entities"><a name="CanonicalURLforContainedEntities" href="#CanonicalURLforContainedEntities">4.3.2 Canonical URL for Contained Entities</a></h3>
<p>For contained entities (i.e. related via a containment navigation property, see <a href="#ODataCSDL">OData-CSDLJSON</a> or <a href="#ODataCSDL">OData-CSDLXML</a>) the canonical URL is the canonical URL of the containing entity followed by:</p>
<ul>
<li>A <a href="#AddressingDerivedTypes">type-cast segment</a> if the navigation property is defined on a type derived from the entity type declared for the entity set,</li>
<li>A path segment for the containment navigation property, and</li>
<li>If the navigation property returns a collection, a key predicate that uniquely identifies the entity in that collection.</li>
</ul>
<p>If the containment navigation property is defined on a complex type used within an ordered collection, the canonical URL of the containing entity is the canonical URL for the collection of complex types followed by a segment containing the zero-based ordinal of the complex typed instance within the collection.</p>
<h3 id="433-urls-for-related-entities-with-referential-constraints"><a name="URLsforRelatedEntitieswithReferentialConstraints" href="#URLsforRelatedEntitieswithReferentialConstraints">4.3.3 URLs for Related Entities with Referential Constraints</a></h3>
<p>If a navigation property leading to a related entity type has a partner navigation property that specifies a referential constraint, then those key properties of the related entity that take part in the referential constraint MAY be omitted from URLs.</p>
<div class="example">
<p>Example 21: full key predicate of related entity</p>
<pre><code>https://host/service/Orders(1)/Items(OrderID=1,ItemNo=2)</code></pre>
</div>
<div class="example">
<p>Example 22: shortened key predicate of related entity</p>
<pre><code>https://host/service/Orders(1)/Items(2)</code></pre>
<p>The two above examples are equivalent if the navigation property <code>Items</code> from <code>Order</code> to <code>OrderItem</code> has a partner navigation property from <code>OrderItem</code> to <code>Order</code> with a referential constraint tying the value of the <code>OrderID</code> key property of the <code>OrderItem</code> to the value of the <code>ID</code> key property of the <code>Order</code>.</p>
</div>
<p>The shorter form that does not specify the constrained key parts redundantly is preferred. If the value of the constrained key is redundantly specified, then it MUST match the principal key value.</p>
<h3 id="434-resolving-an-entity-id"><a name="ResolvinganEntityId" href="#ResolvinganEntityId">4.3.4 Resolving an Entity-Id</a></h3>
<p>To resolve an entity-id into a representation of the identified entity, the client issues a <code>GET</code> request to the <code>$entity</code> resource located at the URL <code>$entity</code> relative to the service root URL. The entity-id MUST be specified using the system query option <code>$id</code>. The entity-id may be expressed as an absolute IRI or relative to the request root URL.</p>
<div class="example">
<p>Example 23: request the entity representation for an entity-id</p>
<pre><code>http://host/service/$entity?$id=Products(0)</code></pre>
</div>
<p>The semantics of <code>$entity</code> are covered in the <a href="#ODataProtocol">OData-Protocol</a> document.</p>
<h3 id="435-alternate-keys"><a name="AlternateKeys" href="#AlternateKeys">4.3.5 Alternate Keys</a></h3>
<p>In addition to the canonical (primary) key an entity set or entity type can specify one or more alternate keys with the <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#AlternateKeys"><code>Core.AlternateKeys</code></a> term (see <a href="#ODataVocCore">OData-VocCore</a>). Entities can be addressed via an alternate key using the same parentheses-style convention as for the canonical key, with one difference: single-part alternate keys MUST specify the key property name to unambiguously determine the alternate key.</p>
<div class="example">
<p>Example 24: the same employee identified via the alternate key SSN, the canonical (primary) key ID using the non-canonical long form with specified key property name, and the canonical short form without key property name</p>
<pre><code>http://host/service/Employees(SSN=&#39;123-45-6789&#39;)</code></pre>
<pre><code>http://host/service/Employees(ID=&#39;A1245&#39;)</code></pre>
<pre><code>http://host/service/Employees(&#39;A1245&#39;)</code></pre>
</div>
<h3 id="436-key-as-segment-convention"><a name="KeyasSegmentConvention" href="#KeyasSegmentConvention">4.3.6 Key-as-Segment Convention</a></h3>
<p>Services MAY support an alternate convention for addressing entities by appending a segment containing the unprefixed and unquoted key value to the URL of the collection containing the entity. Forward-slashes in key value segments MUST be percent-encoded; single quotes within key value segments are treated as part of the key value and do not need to be doubled or percent encoded.</p>
<div class="example">
<p>Example 25: valid OData URLs:</p>
<pre><code>http://host/service/Employees/A1245</code></pre>
<pre><code>http://host/service/People/O&#39;Neil</code></pre>
<pre><code>http://host/service/People/O%27Neil</code></pre>
<pre><code>http://host/service/Categories/Smartphone%2FTablet</code></pre>
<pre><code>http://host/service/ThingyWithDurationKey/P12DT23H59M59.999999999999S</code></pre>
<pre><code>http://host/service/ThingyWithEnumerationKey/Yellow</code></pre>
</div>
<p>For multi-part keys, the entity MUST be addressed by multiple segments applied, one for each key value, in the order they appear in the metadata description of the entity key.</p>
<div class="example">
<p>Example 26: multi-part key predicate, parentheses-style and key-as-segment</p>
<pre><code>https://host/service/OrderItems(OrderID=1,ItemNo=2)</code></pre>
<pre><code>https://host/service/OrderItems/1/2</code></pre>
</div>
<p>If a navigation property leading to a related entity type has a partner navigation property that specifies a referential constraint, then those key properties of the related entity that take part in the referential constraint MUST be omitted from URLs using key-as-segment convention.</p>
<div class="example">
<p>Example 27: key predicate of related entity ‚Äî no key segments for key properties of related entity with a referential constraint to preceding key segments</p>
<pre><code>https://host/service/Orders/1/Items/2</code></pre>
<p>The above example assumes that the navigation property <code>Items</code> from <code>Order</code> to <code>OrderItem</code> has a partner navigation property from <code>OrderItem</code> to <code>Order</code> with a referential constraint tying the value of the <code>OrderID</code> key property of the <code>OrderItem</code> to the value of the <code>ID</code> key property of the <code>Order</code>.</p>
</div>
<p>Because representing key values as segments could be ambiguous with other URL construction conventions, services that support key-as segment MUST implement the following precedence rules:</p>
<p>If a segment following an entity collection:</p>
<ol type="1">
<li>matches a defined OData segment (starting with ‚Äú<code>$</code>‚Äù), treat it as such</li>
<li>matches a qualified bound function, bound action, or type name, treat it as such</li>
<li>matches an unqualified bound function, bound action, or type name defined in a default namespace (see <a href="#ODataProtocol">OData-Protocol</a>) treat it as such</li>
<li>treat as a key value</li>
</ol>
<p>For maximum interoperability, services that support the key-as-segment convention SHOULD also support the canonical <a href="#CanonicalURL">parentheses-style convention</a> for addressing an entity within a collection, otherwise they MUST specify the URL for each returned entity in a response, as specified by the particular format.</p>
<p>Note: the key-as-segment convention can only be used with the canonical (primary) key and cannot be used with alternate keys as the key property names are not present in the keys and an alternative key cannot be determined.</p>
<h2 id="44-addressing-references-between-entities"><a name="AddressingReferencesbetweenEntities" href="#AddressingReferencesbetweenEntities">4.4 Addressing References between Entities</a></h2>
<p>OData services are based on a data model that supports relationships as first class constructs. For example, an OData service could expose a collection of Products entities each of which are related to a Category entity.</p>
<p>References between entities are addressable in OData just like entities themselves are (as described above) by appending a navigation property name followed by <code>/$ref</code> to the entity URL.</p>
<div class="example">
<p>Example 28: URL addressing the references between <code>Categories(1)</code> and <code>Products</code></p>
<pre><code>http://host/service/Categories(1)/Products/$ref</code></pre>
</div>
<p>Resource paths addressing a single related entity reference can be used in <code>DELETE</code> requests to unrelate two entities. In OData 4.01, this includes resource paths that identify an individual entity reference within a related collection by key. In OData 4.0, resource paths addressing a collection of references MUST be followed by the system query option <code>$id</code> in order to identify a single entity reference within the collection to be removed. The entity-id specified by <code>$id</code> may be expressed absolute or relative to the request URL. For details see <a href="#ODataProtocol">OData-Protocol</a>.</p>
<div class="example">
<p>Example 29: three ways of unrelating <code>Categories(1)</code> and <code>Products(0)</code>; the second option is supported only in OData 4.01</p>
<pre><code>DELETE http://host/service/Categories(1)/Products/$ref?$id=../../Products(0)</code></pre>
<pre><code>DELETE http://host/service/Categories(1)/Products(0)/$ref</code></pre>
<pre><code>DELETE http://host/service/Products(0)/Category/$ref</code></pre>
</div>
<h2 id="45-addressing-operations"><a name="AddressingOperations" href="#AddressingOperations">4.5 Addressing Operations</a></h2>
<p>The semantic rules for addressing and invoking actions and functions are defined in the <a href="#ODataProtocol">OData-Protocol</a> document.</p>
<p>Services MAY additionally support the use of the unqualified name of an action or function in a URL by defining one or more default namespaces through the <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#DefaultNamespace"><code>Core.DefaultNamespace</code></a> term defined in <a href="#ODataVocCore">OData-VocCore</a>. For more information on default namespaces, see Default Namespaces in <a href="#ODataProtocol">OData-Protocol</a>.</p>
<h3 id="451-addressing-actions"><a name="AddressingActions" href="#AddressingActions">4.5.1 Addressing Actions</a></h3>
<p>The grammar for addressing and invoking actions is defined by the following syntax grammar rules in <a href="#ODataABNF">OData-ABNF</a>:</p>
<ul>
<li>The <code>actionImportCall</code> syntax rule defines the grammar in the <code>resourcePath</code> for addressing and invoking an action import directly from the service root.</li>
<li>The <code>boundActionCall</code> syntax rule defines the grammar in the <code>resourcePath</code> for addressing and invoking an action that is appended to a <code>resourcePath</code> that identifies some resources that can be used as the binding parameter value when invoking the action.</li>
<li>The <code>boundOperation</code> syntax rule (which encompasses the <code>boundActionCall</code> syntax rule), when used by the <code>resourcePath</code> syntax rule, illustrates how a <code>boundActionCall</code> can be appended to a <code>resourcePath</code>.</li>
</ul>
<h3 id="452-addressing-functions"><a name="AddressingFunctions" href="#AddressingFunctions">4.5.2 Addressing Functions</a></h3>
<p>The grammar for addressing and invoking functions is defined by syntax rules in <a href="#ODataABNF">OData-ABNF</a>, in particular:</p>
<ul>
<li>The function import call syntax rules <code>complexFunctionImportCall</code>, <code>complexColFunctionImportCall</code>, <code>entityFunctionImportCall</code>, <code>entityColFunctionImportCall</code>, <code>primitiveFunctionImportCall</code>, and <code>primitiveColFunctionImportCall</code> define the grammar in the <code>resourcePath</code> for addressing and providing parameters for a function import directly from the service root.</li>
<li>The bound function call syntax rules <code>boundComplexFunctionCall</code>, <code>boundComplexColFunctionCall</code>, <code>boundEntityFunctionCall</code>, <code>boundEntityColFunctionCall</code>, <code>boundPrimitiveFunctionCall</code> and <code>boundPrimitiveColFunctionCall</code> define the grammar in the <code>resourcePath</code> for addressing and providing parameters for a function that is appended to a <code>resourcePath</code> that identifies some resources that can be used as the binding parameter value when invoking the function.</li>
<li>The <code>boundOperation</code> syntax rule (which encompasses the bound function call syntax rules), when used by the <code>resourcePath</code> syntax rule, illustrates how a bound function call can be appended to a <code>resourcePath</code>.</li>
<li>The <code>functionExpr</code> and <code>boundFunctionExpr</code> syntax rules as used by the <code>commonExpr</code> syntax rule define the grammar for invoking functions, for example to help filter and order resources identified by the <code>resourcePath</code> of the URL.</li>
<li>The <code>aliasAndValue</code> syntax rule defines the grammar for providing function parameter values using Parameter Alias Syntax, see <a href="#ODataProtocol">OData-Protocol</a>.</li>
</ul>
<p>Note: there is no literal representation for <code>Edm.Stream</code> values in URLs, so it is not possible to pass <code>Edm.Stream</code> values to parameters of function imports or to non-binding parameters of bound functions used in the resource path. Function expressions within query options can use <a href="#PathExpressions">path expressions</a> of type <code>Edm.Stream</code> as values of non-binding function parameters.</p>
<h2 id="46-addressing-a-property"><a name="AddressingaProperty" href="#AddressingaProperty">4.6 Addressing a Property</a></h2>
<p>To address an entity property clients append a path segment containing the property name to the URL of the entity. If the property has a complex type value, properties of that value can be addressed by further property name composition.</p>
<h2 id="47-addressing-a-raw-value"><a name="AddressingaRawValue" href="#AddressingaRawValue">4.7 Addressing a Raw Value</a></h2>
<p>To address the raw value of a primitive property or operation result, clients append the path segment <code>/$value</code> to the property or operation URL.</p>
<p>Properties and operation results of type <code>Edm.Stream</code> already return the raw value of the media stream and do not support appending the <code>/$value</code> segment.</p>
<h2 id="48-addressing-the-count-of-a-collection"><a name="AddressingtheCountofaCollection" href="#AddressingtheCountofaCollection">4.8 Addressing the Count of a Collection</a></h2>
<p>To address the raw value of the number of items in a collection, clients append <code>/$count</code> to the resource path of the URL identifying the entity set or collection.</p>
<p>The <code>/$count</code> path suffix identifies the integer count of records in the collection and SHOULD NOT be combined with the system query options <a href="#SystemQueryOptionstopandskip"><code>$top</code></a>, <a href="#SystemQueryOptionstopandskip"><code>$skip</code></a>, <a href="#SystemQueryOptionorderby"><code>$orderby</code></a>, <a href="#SystemQueryOptionexpand"><code>$expand</code></a>, and <a href="#SystemQueryOptionformat"><code>$format</code></a>. The count MUST NOT be affected by <code>$top</code>, <code>$skip</code>, <code>$orderby</code>, or <code>$expand</code>.</p>
<p>The count is calculated after applying any <a href="#AddressingaSubsetofaCollection"><code>/$filter</code></a> path segments, or <a href="#SystemQueryOptionfilter"><code>$filter</code></a> or <a href="#SystemQueryOptionsearch"><code>$search</code></a> system query options to the collection.</p>
<div class="example">
<p>Example 30: the number of related entities</p>
<pre><code>http://host/service/Categories(1)/Products/$count</code></pre>
</div>
<div class="example">
<p>Example 31: the number of entities in an entity set</p>
<pre><code>http://host/service/Products/$count</code></pre>
</div>
<div class="example">
<p>Example 32: entity count in a <code>$filter</code> expression. Note that the spaces around <code>gt</code> are for readability of the example only; in real URLs they must be percent-encoded as <code>%20</code>.</p>
<pre><code>http://host/service/Categories?$filter=Products/$count gt 0</code></pre>
</div>
<div class="example">
<p>Example 33: count of a filtered collection in a <code>$filter</code> expression; returns all Categories containing more than two products whose price is greater than 5.00.</p>
<pre><code>http://host/service/Categories?$filter=Products/$count($filter=Price gt 5.00) gt 2</code></pre>
</div>
<div class="example">
<p>Example 34: entity count in an <code>$orderby</code> expression</p>
<pre><code>http://host/service/Categories?$orderby=Products/$count</code></pre>
</div>
<h2 id="49-addressing-a-member-within-an-entity-collection"><a name="AddressingaMemberwithinanEntityCollection" href="#AddressingaMemberwithinanEntityCollection">4.9 Addressing a Member within an Entity Collection</a></h2>
<p>Collections of entities are modeled as entity sets, collection-valued navigation properties, or operation results.</p>
<p>For entity sets, results of operations associated with an entity set through an <code>EntitySet</code> or <code>EntitySetPath</code> declaration, or collection-valued navigation properties with a <code>NavigationPropertyBinding</code> or <code>ContainsTarget=true</code> specification, members of the collection can be addressed by convention by appending the parenthesized key to the URL specifying the collection of entities, or by using the <a href="#KeyasSegmentConvention">key-as-segment convention</a> if supported by the service.</p>
<p>For collection-valued navigation properties with navigation property bindings that end in a <a href="#AddressingDerivedTypes">type-cast segment</a>, a type-cast segment MUST be appended to the collection URL before appending the key segment.</p>
<p>Note: entity sets or collection-valued navigation properties annotated with the term <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Capabilities.V1.md#IndexableByKey"><code>Capabilities.IndexableByKey</code></a> defined in <a href="#ODataVocCap">OData-VocCap</a> and a value of <code>false</code> do not support addressing their members by key.</p>
<h2 id="410-addressing-a-member-of-an-ordered-collection"><a name="AddressingaMemberofanOrderedCollection" href="#AddressingaMemberofanOrderedCollection">4.10 Addressing a Member of an Ordered Collection</a></h2>
<p>Collections can be annotated as ordered using the <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#Ordered"><code>Core.Ordered</code></a> term (see <a href="#ODataVocCore">OData-VocCore</a>). Individual items within an ordered collection of primitive or complex types can be addressed by appending a segment containing the zero-based ordinal to the URL of the collection. A negative ordinal number indexes from the end of the collection, with <code>-1</code> representing the last item in the collection. Services MUST NOT specify a negative index when returning the address of a member of an ordered collection.</p>
<p>Entity types are stably addressable using their canonical URL and SHOULD NOT be accessed or accessible using an index.</p>
<div class="example">
<p>Example 35: the first address in a list of addresses for <code>MainSupplier</code></p>
<pre><code>http://host/service/MainSupplier/Addresses/0</code></pre>
</div>
<h2 id="411-addressing-derived-types"><a name="AddressingDerivedTypes" href="#AddressingDerivedTypes">4.11 Addressing Derived Types</a></h2>
<p>Any resource path or path expression identifying a collection of entities or complex type instances can be appended with a <em>type-cast segment</em>, that is a path segment containing the qualified name of a type derived from the declared item type of the collection. The result will be restricted to instances of the derived type and may be empty.</p>
<p>Any resource path or path expression identifying a single entity or complex type instance can be appended with a type-cast segment containing the qualified name of a type derived from the declared type of the identified resource. If used in a resource path and the identified resource is not an instance of the derived type, the request will result in a <code>404 Not Found</code> response. If used in a path expression, the type cast will evaluate to <code>null</code>.</p>
<p>Services MAY additionally support the use of the unqualified name of a derived type in a URL by defining one or more default namespaces through the <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#DefaultNamespace"><code>Core.DefaultNamespace</code></a> term defined in <a href="#ODataVocCore">OData-VocCore</a>. For more information on default namespaces, see Default Namespaces in <a href="#ODataProtocol">OData-Protocol</a>.</p>
<p>Services MAY also support treating an instance as a type outside of the type hierarchy using the same syntax and semantics as when addressing a derived type. In this case, the set and values of properties of the addressed type may be different than the properties of the source type. The set of such possible target types outside of the type hierarchy SHOULD be called out using the <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#MayImplement"><code>Core.MayImplement</code></a> annotation term, defined in <a href="#ODataVocCore">OData-VocCore</a>.</p>
<div class="example">
<p>Example 36: entity set restricted to <code>VipCustomer</code> instances</p>
<pre><code>http://host/service/Customers/Model.VipCustomer</code></pre>
</div>
<div class="example">
<p>Example 37: entity restricted to a <code>VipCustomer</code> instance, resulting in <code>404 Not Found</code> if the customer with key <code>1</code> is not a <code>VipCustomer</code></p>
<pre><code>http://host/service/Customers/Model.VipCustomer(1)</code></pre>
<pre><code>http://host/service/Customers(1)/Model.VipCustomer</code></pre>
</div>
<div class="example">
<p>Example 38: cast the complex property <code>Address</code> to its derived type <code>DetailedAddress</code>, then get a property of the derived type</p>
<pre><code>http://host/service/Customers(1)/Address/Model.DetailedAddress/Location</code></pre>
</div>
<div class="example">
<p>Example 39: filter expression with type cast; will evaluate to <code>null</code> for all non-<code>VipCustomer</code> instances and thus return only instances of <code>VipCustomer</code></p>
<pre><code>http://host/service/Customers?$filter=Model.VipCustomer/PercentageOfVipPromotionProductsOrdered gt 80</code></pre>
</div>
<div class="example">
<p>Example 40: expand the single related <code>Customer</code> only if it is an instance of <code>Model.VipCustomer</code>. For to-many relationships only <code>Model.VipCustomer</code> instances would be inlined,</p>
<pre><code>http://host/service/Orders?$expand=Customer/Model.VipCustomer</code></pre>
</div>
<h2 id="412-addressing-a-subset-of-a-collection"><a name="AddressingaSubsetofaCollection" href="#AddressingaSubsetofaCollection">4.12 Addressing a Subset of a Collection</a></h2>
<p>Any resource path or path expression identifying a collection can be appended with a filter path segment consisting of <code>/$filter</code> followed by parentheses containing a <a href="#ParameterAliases">parameter alias</a> or a filter expression following the <code>filter</code> syntax rule in <a href="#ODataABNF">OData-ABNF</a>. If the parentheses contain a parameter alias, a filter expression MUST be assigned to the parameter alias in the query part of the request URL. If the filter path segment appears in the resource path, the filter expression in parentheses MUST NOT use forward slashes, it must be specified with a parameter alias instead.</p>
<p>The collection will be restricted to instances matching the filter expression assigned to the parameter alias and may be empty.</p>
<p>The <code>/$filter</code> path segment MAY occur multiple times and it MAY be combined with the <a href="#SystemQueryOptionfilter"><code>$filter</code></a> system query option.</p>
<div class="example">
<p>Example 41: red products that cost less than 10 ‚Äî combining path segment and system query option</p>
<pre><code>GET Products/$filter(@foo)?@foo=Price lt 10&amp;$filter=Color eq &#39;red&#39;</code></pre>
</div>
<div class="example">
<p>Example 42: red products that cost less than 10 ‚Äî combine two path segments</p>
<pre><code>GET Products/$filter(@p)/$filter(@c)?@p=Price lt 10&amp;@c=Color eq &#39;red&#39;</code></pre>
</div>
<div class="example">
<p>Example 43: categories with less than ten products older than three</p>
<pre><code>GET Categories?$filter=Products/$filter(Age gt 3)/$count lt 10</code></pre>
</div>
<p>Note that the <code>/$filter</code> path segment filters the ‚Äúinput‚Äù to the operation, and the <code>$filter</code> system query option filters the result of the operation, so the two can be used interchangeably only for <code>GET</code> operations. For a <code>PATCH</code> operation, the <code>/$filter</code> path segment is evaluated on the items <em>before</em> the modification and determines which items are to be modified, whereas the <code>$filter</code> system query option is evaluated <em>after</em> the modification and determines which of the modified items are part of the response.</p>
<p>The <code>/$filter</code> path segment MAY be followed by a path segment identifying a <a href="#AddressingActions">bound action</a> or <a href="#AddressingFunctions">bound function</a> applicable to the collection.</p>
<div class="example">
<p>Example 44: invoke the <code>Special.Cluster</code> action on all products older than 3</p>
<pre><code>POST /service/Products/$filter(@foo)/Special.Cluster?@foo=Age gt 3</code></pre>
</div>
<h2 id="413-addressing-each-member-of-a-collection"><a name="AddressingEachMemberofaCollection" href="#AddressingEachMemberofaCollection">4.13 Addressing Each Member of a Collection</a></h2>
<p>To apply a <code>PATCH</code> or <code>DELETE</code> request to each member of a collection, clients append the path segment <code>/$each</code> to a resource path identifying a collection.</p>
<p>To apply a <a href="#AddressingActions">bound action</a> or function to each member of a collection, clients append the path segment <code>/$each</code> followed by a path segment identifying the bound action or function. The response is a collection of instances of the result type of the bound operation. If the bound operation returns a collection, the response is a collection of collections. System query options applied to the response can use <a href="#it"><code>$it</code></a> to reference an item in the outermost collection, followed by <a href="#any"><code>/any</code></a>, <a href="#all"><code>/all</code></a>, or <a href="#AddressingtheCountofaCollection"><code>/$count</code></a>.</p>
<p>The resource path of the collection preceding <code>/$each</code> MAY contain <a href="#AddressingDerivedTypes">type-cast segments</a> or <a href="#AddressingaSubsetofaCollection">filter path segments</a> to subset the collection.</p>
<h2 id="414-addressing-the-media-stream-of-a-media-entity"><a name="AddressingtheMediaStreamofaMediaEntity" href="#AddressingtheMediaStreamofaMediaEntity">4.14 Addressing the Media Stream of a Media Entity</a></h2>
<p>To address the media stream represented by a media entity, clients append <code>/$value</code> to the resource path of the media entity URL. Services may redirect from this canonical URL to the source URL of the media stream.</p>
<div class="example">
<p>Example 45: request the media stream for the picture with the key value <code>Sunset4321299432</code>:</p>
<pre><code>http://host/service/Pictures(&#39;Sunset4321299432&#39;)/$value</code></pre>
</div>
<h2 id="415-addressing-the-cross-join-of-entity-sets"><a name="AddressingtheCrossJoinofEntitySets" href="#AddressingtheCrossJoinofEntitySets">4.15 Addressing the Cross Join of Entity Sets</a></h2>
<p>In addition to querying related entities through navigation properties defined in the entity model of a service, the cross join operator allows querying across unrelated entity sets.</p>
<p>The cross join is addressed by appending the path segment <code>$crossjoin</code> to the <a href="#ServiceRootURL">service root URL</a>, followed by the parenthesized comma-separated list of joined entity sets. It returns the Cartesian product of all the specified entity sets, represented as a collection of instances of a virtual complex type. Each instance consists of one non-nullable, single-valued navigation property per joined entity set. Each such navigation property is named identical to the corresponding entity set, with a target type equal to the declared entity type of the corresponding entity set.</p>
<p>The <a href="#SystemQueryOptionfilter"><code>$filter</code></a> and <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> query options can be specified using properties of the entities in the selected entity sets, prepended with the entity set as the navigation property name.</p>
<p>The <a href="#SystemQueryOptionexpand"><code>$expand</code></a> query option can be specified using the names of the selected entity sets as navigation property names. If a selected entity set is not expanded, it MUST be represented using the read URL of the related entity as a navigation link in the complex type instance.</p>
<p>The <a href="#SystemQueryOptioncount"><code>$count</code></a>, <a href="#SystemQueryOptionstopandskip"><code>$skip</code></a>, and <a href="#SystemQueryOptionstopandskip"><code>$top</code></a> query options can also be used with no special semantics.</p>
<div class="example">
<p>Example 46: if <code>Sales</code> had a structural property <code>ProductID</code> instead of a navigation property <code>Product</code>, a ‚Äúcross join‚Äù between <code>Sales</code> and <code>Products</code> could be addressed</p>
<pre><code>http://host/service/$crossjoin(Products,Sales)?$filter=Products/ID eq Sales/ProductID</code></pre>
<p>and would result in</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;@context&quot;</span><span class="fu">:</span> <span class="st">&quot;http://host/service/$metadata#Collection(Edm.ComplexType)&quot;</span><span class="fu">,</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Products@navigationLink&quot;</span><span class="fu">:</span> <span class="st">&quot;Products(0)&quot;</span><span class="fu">,</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Sales@navigationLink&quot;</span><span class="fu">:</span> <span class="st">&quot;Sales(42)&quot;</span><span class="fu">,</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Products@navigationLink&quot;</span><span class="fu">:</span> <span class="st">&quot;Products(0)&quot;</span><span class="fu">,</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Sales@navigationLink&quot;</span><span class="fu">:</span> <span class="st">&quot;Sales(57)&quot;</span><span class="fu">,</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>    <span class="er">‚Ä¶</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">{</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Products@navigationLink&quot;</span><span class="fu">:</span> <span class="st">&quot;Products(99)&quot;</span><span class="fu">,</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;Sales@navigationLink&quot;</span><span class="fu">:</span> <span class="st">&quot;Sales(21)&quot;</span><span class="fu">,</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
</div>
<h2 id="416-addressing-all-entities-in-a-service"><a name="AddressingAllEntitiesinaService" href="#AddressingAllEntitiesinaService">4.16 Addressing All Entities in a Service</a></h2>
<p>The symbolic resource <code>$all</code>, located at the service root, identifies the collection of all entities in a service, i.e. the union of all entity sets plus all singletons.</p>
<p>This symbolic resource is of type <code>Collection(Edm.EntityType)</code> and allows the <a href="#SystemQueryOptionsearch"><code>$search</code></a> system query option plus all other query options applicable to collections of entities.</p>
<p>The <code>$all</code> resource can be appended with a path segment containing the qualified name of an entity type in order to restrict the collections to entities of that type. Query options such as <a href="#SystemQueryOptionselect"><code>$select</code></a>, <a href="#SystemQueryOptionfilter"><code>$filter</code></a>, <a href="#SystemQueryOptionexpand"><code>$expand</code></a>, and <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> can be applied to this restricted set according to the specified type.</p>
<div class="example">
<p>Example 47: all entities in a service that somehow match <code>red</code></p>
<pre><code>http://host/service/$all?$search=red</code></pre>
</div>
<div class="example">
<p>Example 48: all <code>Customer</code> entities in a service whose name contains <code>red</code></p>
<pre><code>http://host/service/$all/Model.Customer?$filter=contains(Name,&#39;red&#39;)</code></pre>
</div>
<h2 id="417-passing-query-options-in-the-request-body"><a name="PassingQueryOptionsintheRequestBody" href="#PassingQueryOptionsintheRequestBody">4.17 Passing Query Options in the Request Body</a></h2>
<p>The query options part of an OData URL can be quite long, potentially exceeding the maximum length of URLs supported by components involved in transmitting or processing the request. One way to avoid this is wrapping the request in a batch request, which has the penalty of needing to construct a well-formed batch request body.</p>
<p>An easier alternative for <code>GET</code> requests is to append <code>/$query</code> to the resource path of the URL, use the <code>POST</code> verb instead of <code>GET</code>, and pass the query options part of the URL in the request body.</p>
<p>Requests to paths ending in <code>/$query</code> MUST use the <code>POST</code> verb. Query options specified in the request body and query options specified in the request URL are processed together.</p>
<p>The request body MUST use <code>Content-Type: text/plain</code>. It contains the query portion of the URL and MUST use the same percent-encoding as in URLs (especially: no spaces, tabs, or line breaks allowed) and MUST follow the syntax rules described in chapter Query Options.</p>
<div class="example">
<p>Example 49: passing a filter condition in the request body</p>
<pre><code>POST http://host/service/People/$query
Content-Type: text/plain

$filter=[FirstName,LastName]%20in%20[[&quot;John&quot;,&quot;Doe&quot;],[&quot;Jane&quot;,&quot;Smith&quot;]]</code></pre>
</div>
<hr />
<h1 id="5-query-options"><a name="QueryOptions" href="#QueryOptions">5 Query Options</a></h1>
<p>The query options part of an OData URL specifies three types of information: <a href="#SystemQueryOptions">system query options</a>, <a href="#CustomQueryOptions">custom query options</a>, and <a href="#ParameterAliases">parameter aliases</a>. All OData services MUST follow the query string parsing and construction rules defined in this section and its subsections.</p>
<h2 id="51-system-query-options"><a name="SystemQueryOptions" href="#SystemQueryOptions">5.1 System Query Options</a></h2>
<p>System query options are query string parameters that control the amount and order of the data returned for the resource identified by the URL. The names of all system query options are optionally prefixed with a dollar (<code>$</code>) character. 4.01 Services MUST support case-insensitive system query option names specified with or without the <code>$</code> prefix. Clients that want to work with 4.0 services MUST use lower case names and specify the <code>$</code> prefix.</p>
<p>For <code>GET</code>, <code>PATCH</code>, and <code>PUT</code> requests the following rules apply:</p>
<ul>
<li>Resource paths identifying a single entity, a complex type instance, a collection of entities, or a collection of complex type instances allow <a href="#SystemQueryOptioncompute"><code>$compute</code></a>, <a href="#SystemQueryOptionexpand"><code>$expand</code></a> and <a href="#SystemQueryOptionselect"><code>$select</code></a>.</li>
<li>Resource paths identifying a collection allow <a href="#SystemQueryOptionfilter"><code>$filter</code></a>, <a href="#SystemQueryOptionsearch"><code>$search</code></a>, <a href="#SystemQueryOptioncount"><code>$count</code></a>, <a href="#SystemQueryOptionorderby"><code>$orderby</code></a>, <a href="#SystemQueryOptionstopandskip"><code>$skip</code></a>, and <a href="#SystemQueryOptionstopandskip"><code>$top</code></a>.</li>
<li>Resource paths ending in <code>/$count</code> allow <a href="#SystemQueryOptionfilter"><code>$filter</code></a> and <a href="#SystemQueryOptionsearch"><code>$search</code></a>.</li>
<li>Resource paths not ending in <code>/$count</code> or <code>/$batch</code> allow <a href="#SystemQueryOptionformat"><code>$format</code></a>.</li>
</ul>
<p>For <code>POST</code> requests to an action URL the return type of the action determines the applicable system query options that a service MAY support, following the same rules as <code>GET</code> requests.</p>
<p><code>POST</code> requests to an entity set follow the same rules as <code>GET</code> requests that return a single entity.</p>
<p>System query options SHOULD NOT be applied to a <code>DELETE</code> request.</p>
<p>An OData service may support some or all of the system query options defined. If a data service does not support a system query option, it MUST reject any request that contains the unsupported option.</p>
<p>The same system query option, irrespective of casing or whether or not it is prefixed with a <code>$</code>, MUST NOT be specified more than once for any resource.</p>
<p>The semantics of all system query options are defined in the <a href="#ODataProtocol">OData-Protocol</a> document.</p>
<p>The grammar and syntax rules for system query options are defined in <a href="#ODataABNF">OData-ABNF</a>.</p>
<p>Dynamic properties can be used in the same way as declared properties. If they are not defined on an instance, they evaluate to <code>null</code>.</p>
<h3 id="511-common-expression-syntax"><a name="CommonExpressionSyntax" href="#CommonExpressionSyntax">5.1.1 Common Expression Syntax</a></h3>
<p>The following operators, functions, and literals can be used in <code>$filter</code>, <code>$orderby</code>, and <code>$compute</code> expressions.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>commonExpr</code> syntax rule defines the formal grammar of common expressions.</p>
<h4 id="5111-logical-operators"><a name="LogicalOperators" href="#LogicalOperators">5.1.1.1 Logical Operators</a></h4>
<p>OData defines a set of logical operators that evaluate to true or false (i.e. a <code>boolCommonExpr</code> as defined in <a href="#ODataABNF">OData-ABNF</a>). Logical operators are typically used to filter a collection of resources.</p>
<p>The syntax rules for the logical operators are defined in <a href="#ODataABNF">OData-ABNF</a>. 4.01 Services MUST support case-insensitive operator names. Clients that want to work with 4.0 services MUST use lower case operator names.</p>
<p>The six comparison operators can be used with all primitive values except <code>Edm.Binary</code>, <code>Edm.Stream</code>, and the <code>Edm.Geo</code> types. <code>Edm.Binary</code>, <code>Edm.Stream</code>, and the <code>Edm.Geo</code> types can only be compared to the <code>null</code> value using the <a href="#Equals"><code>eq</code></a> and <a href="#NotEquals"><code>ne</code></a> operators.</p>
<p>When applied to operands of numeric types, <a href="#NumericPromotion">numeric promotion</a> rules are applied.</p>
<p>The <code>eq</code>, <code>ne</code>, and <code>in</code> operators can be used with collection-valued operands, and the <code>eq</code> and <code>ne</code> operators can be used with operands of a structured type.</p>
<h5 id="51111-equals"><a name="Equals" href="#Equals">5.1.1.1.1 Equals</a></h5>
<p>The <code>eq</code> operator returns true if the left operand is equal to the right operand, otherwise it returns false.</p>
<p>When applied to operands of entity types, the <code>eq</code> operator returns true if both operands represent the same entity, or both operands represent null.</p>
<p>When applied to operands of complex types, the <code>eq</code> operator returns true if both operands have the same structure and same values, or both operands represent null.</p>
<p>When applied to ordered collections, the <code>eq</code> operator returns true if both operands have the same cardinality and each member of the left operand is equal to the corresponding member of the right operand.</p>
<p>For services that support comparing unordered collections, the <code>eq</code> operator returns true if both operands are equal after applying the same ordering on both collections.</p>
<p>Each of the special values <code>null</code>, <code>-INF</code>, and <code>INF</code> is equal to itself, and only to itself.</p>
<p>The special value <code>NaN</code> is not equal to anything, even to itself.</p>
<h5 id="51112-not-equals"><a name="NotEquals" href="#NotEquals">5.1.1.1.2 Not Equals</a></h5>
<p>The <code>ne</code> operator returns true if the left operand is not equal to the right operand, otherwise it returns false.</p>
<p>When applied to operands of entity types, the <code>ne</code> operator returns true if the two operands do not represent the same entity.</p>
<p>When applied to operands of complex types, the <code>ne</code> operator returns true if the operands do not have the same structure and same values.</p>
<p>When applied to ordered collections, the <code>ne</code> operator returns true if both operands do not have the same cardinality or any member of the left operand is not equal to the corresponding member of the right operand.</p>
<p>For services that support comparing unordered collections, the <code>ne</code> operator returns true if both operands do not have the same cardinality or do not contain the same members, in any order.</p>
<p>Each of the special values <code>null</code>, <code>-INF</code>, and <code>INF</code> is not equal to any value but itself.</p>
<p>The special value <code>NaN</code> is not equal to anything, even to itself.</p>
<p>The <code>null</code> value is not equal to any value but itself.</p>
<h5 id="51113-greater-than"><a name="GreaterThan" href="#GreaterThan">5.1.1.1.3 Greater Than</a></h5>
<p>The <code>gt</code> operator returns true if the left operand is greater than the right operand, otherwise it returns false.</p>
<p>The special value <code>INF</code> is greater than any number, and any number is greater than <code>-INF</code>.</p>
<p>The Boolean value <code>true</code> is greater than <code>false</code>.</p>
<p>Services SHOULD order language-dependent strings according to the <code>Content-Language</code> of the response, and SHOULD annotate string properties with language-dependent order with the term <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#IsLanguageDependent"><code>Core.IsLanguageDependent</code></a>, see <a href="#ODataVocCore">OData-VocCore</a>.</p>
<p>If any operand is <code>null</code>, the operator returns false.</p>
<h5 id="51114-greater-than-or-equal"><a name="GreaterThanorEqual" href="#GreaterThanorEqual">5.1.1.1.4 Greater Than or Equal</a></h5>
<p>The <code>ge</code> operator returns true if the left operand is greater than or equal to the right operand, otherwise it returns false.</p>
<p>See rules for <a href="#GreaterThan"><code>gt</code></a> and <a href="#Equals"><code>eq</code></a> for details.</p>
<h5 id="51115-less-than"><a name="LessThan" href="#LessThan">5.1.1.1.5 Less Than</a></h5>
<p>The <code>lt</code> operator returns true if the left operand is less than the right operand, otherwise it returns false.</p>
<p>The special value <code>-INF</code> is less than any number, and any number is less than <code>INF</code>.</p>
<p>The Boolean value <code>false</code> is less than <code>true</code>.</p>
<p>Services SHOULD order language-dependent strings according to the <code>Content-Language</code> of the response, and SHOULD annotate string properties with language-dependent order with the term <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#IsLanguageDependent"><code>Core.IsLanguageDependent</code></a>, see <a href="#ODataVocCore">OData-VocCore</a>.</p>
<p>If any operand is <code>null</code>, the operator returns false.</p>
<h5 id="51116-less-than-or-equal"><a name="LessThanorEqual" href="#LessThanorEqual">5.1.1.1.6 Less Than or Equal</a></h5>
<p>The <code>le</code> operator returns true if the left operand is less than or equal to the right operand, otherwise it returns false.</p>
<p>See rules for <a href="#LessThan"><code>lt</code></a> and <a href="#Equals"><code>eq</code></a> for details.</p>
<h5 id="51117-and"><a name="And" href="#And">5.1.1.1.7 And</a></h5>
<p>The <code>and</code> operator returns true if both the left and right operands evaluate to true, otherwise it returns false.</p>
<p>The <code>null</code> value is treated as unknown, so if one operand evaluates to <code>null</code> and the other operand to false, the <code>and</code> operator returns false. All other combinations with <code>null</code> return <code>null</code>.</p>
<h5 id="51118-or"><a name="Or" href="#Or">5.1.1.1.8 Or</a></h5>
<p>The <code>or</code> operator returns false if both the left and right operands both evaluate to false, otherwise it returns true.</p>
<p>The <code>null</code> value is treated as unknown, so if one operand evaluates to <code>null</code> and the other operand to true, the <code>or</code> operator returns true. All other combinations with <code>null</code> return <code>null</code>.</p>
<h5 id="51119-not"><a name="Not" href="#Not">5.1.1.1.9 Not</a></h5>
<p>The <code>not</code> operator returns true if the operand returns false, otherwise it returns false.</p>
<p>The <code>null</code> value is treated as unknown, so <code>not null</code> returns <code>null</code>.</p>
<h5 id="511110-has"><a name="Has" href="#Has">5.1.1.1.10 Has</a></h5>
<p>The <code>has</code> operator returns true if the right operand is an enumeration value whose flag(s) are set on the left operand.</p>
<p>The <code>null</code> value is treated as unknown, so if one operand evaluates to <code>null</code>, the <code>has</code> operator returns <code>null</code>.</p>
<h5 id="511111-in"><a name="In" href="#In">5.1.1.1.11 In</a></h5>
<p>The <code>in</code> operator returns true if the left operand is a member of the right operand. The right operand MUST be either a comma-separated list of primitive values, enclosed in parentheses, or a single expression that resolves to a collection.</p>
<h5 id="511112-logical-operator-examples"><a name="LogicalOperatorExamples" href="#LogicalOperatorExamples">5.1.1.1.12 Logical Operator Examples</a></h5>
<p>The following examples illustrate the use and semantics of each of the logical operators.</p>
<div class="example">
<p>Example 50: all products with a <code>Name</code> equal to <code>Milk</code></p>
<pre><code>http://host/service/Products?$filter=Name eq &#39;Milk&#39;</code></pre>
</div>
<div class="example">
<p>Example 51: all products with a <code>Name</code> not equal to <code>Milk</code></p>
<pre><code>http://host/service/Products?$filter=Name ne &#39;Milk&#39;</code></pre>
</div>
<div class="example">
<p>Example 52: all products with a <code>Name</code> greater than <code>Milk</code>:</p>
<pre><code>http://host/service/Products?$filter=Name gt &#39;Milk&#39;</code></pre>
</div>
<div class="example">
<p>Example 53: all products with a <code>Name</code> greater than or equal to <code>Milk</code>:</p>
<pre><code>http://host/service/Products?$filter=Name ge &#39;Milk&#39;</code></pre>
</div>
<div class="example">
<p>Example 54: all products with a <code>Name</code> less than <code>Milk</code>:</p>
<pre><code>http://host/service/Products?$filter=Name lt &#39;Milk&#39;</code></pre>
</div>
<div class="example">
<p>Example 55: all products with a <code>Name</code> less than or equal to <code>Milk</code>:</p>
<pre><code>http://host/service/Products?$filter=Name le &#39;Milk&#39;</code></pre>
</div>
<div class="example">
<p>Example 56: all products with a <code>Name</code> equal to <code>Milk</code> that also have a <code>Price</code> less than 2.55:</p>
<pre><code>http://host/service/Products?$filter=Name eq &#39;Milk&#39; and Price lt 2.55</code></pre>
</div>
<div class="example">
<p>Example 57: all products that either have a <code>Name</code> equal to <code>Milk</code> or have a <code>Price</code> less than 2.55:</p>
<pre><code>http://host/service/Products?$filter=Name eq &#39;Milk&#39; or Price lt 2.55</code></pre>
</div>
<div class="example">
<p>Example 58: all products that do not have a <code>Name</code> that ends with <code>ilk</code>:</p>
<pre><code>http://host/service/Products?$filter=not endswith(Name,&#39;ilk&#39;)</code></pre>
</div>
<div class="example">
<p>Example 59: all products whose <code>style</code> value includes <code>Yellow</code>:</p>
<pre><code>http://host/service/Products?$filter=style has Sales.Pattern&#39;Yellow&#39;</code></pre>
</div>
<div class="example">
<p>Example 60: all products whose <code>Name</code> is <code>Milk</code> or <code>Cheese</code>:</p>
<pre><code>http://host/service/Products?$filter=Name in (&#39;Milk&#39;, &#39;Cheese&#39;)</code></pre>
</div>
<h4 id="5112-arithmetic-operators"><a name="ArithmeticOperators" href="#ArithmeticOperators">5.1.1.2 Arithmetic Operators</a></h4>
<p>OData defines a set of arithmetic operators that require operands that evaluate to numeric types. Arithmetic operators are typically used to filter a collection of resources. However, services MAY allow using arithmetic operators with the <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> system query option.</p>
<p>If an operand of an arithmetic operator is null, the result is null.</p>
<p>The syntax rules for the arithmetic operators are defined in <a href="#ODataABNF">OData-ABNF</a>. 4.01 Services MUST support case-insensitive operator names. Clients that want to work with 4.0 services MUST use lower case operator names.</p>
<h5 id="51121-addition"><a name="Addition" href="#Addition">5.1.1.2.1 Addition</a></h5>
<p>The <code>add</code> operator adds the left and right numeric operands.</p>
<p>For operands of type <code>Edm.Decimal</code> the scale of the result is <span class="math inline">\({\rm scaleof}(A {\ \tt add\ } B) = \max({\rm scaleof}(A), {\rm scaleof}(B))\)</span>, or <code>variable</code> if any operand has variable scale.</p>
<p>The <code>add</code> operator is also valid for the following time-related operands:</p>
<ul>
<li><code>DateTimeOffset add Duration</code> results in a <code>DateTimeOffset</code></li>
<li><code>Duration add Duration</code> results in a <code>Duration</code></li>
<li><code>Date add Duration</code> results in a <code>Date</code></li>
</ul>
<p>The rules for time-related operands are defined in <a href="#XML-Schema2">XML-Schema-2</a>, <a href="https://www.w3.org/TR/xmlschema11-2/#sec-dt-arith">section E.3.3</a>. Specifically, for adding a duration to a date:</p>
<ul>
<li>Convert date to datetime (in any timezone) with a zero time component</li>
<li>Add/subtract duration</li>
<li>Convert to date by removing the time and timezone components</li>
</ul>
<p>Thus, today plus a positive duration smaller than one day is today; today minus a positive duration smaller than one day is yesterday.</p>
<h5 id="51122-subtraction"><a name="Subtraction" href="#Subtraction">5.1.1.2.2 Subtraction</a></h5>
<p>The <code>sub</code> operator subtracts the right numeric operand from the left numeric operand.</p>
<p>For operands of type <code>Edm.Decimal</code> the scale of the result is <span class="math inline">\({\rm scaleof}(A {\ \tt sub\ } B) = \max({\rm scaleof}(A), {\rm scaleof}(B))\)</span>, or <code>variable</code> if any operand has variable scale.</p>
<p>The <code>sub</code> operator is also valid for the following time-related operands:</p>
<ul>
<li><code>DateTimeOffset sub Duration</code> results in a <code>DateTimeOffset</code></li>
<li><code>Duration sub Duration</code> results in a <code>Duration</code></li>
<li><code>DateTimeOffset sub DateTimeOffset</code> results in a <code>Duration</code></li>
<li><code>Date sub Duration</code> results in a <code>Date</code></li>
<li><code>Date sub Date</code> results in a <code>Duration</code></li>
</ul>
<p>The rules for time-related operands are defined in <a href="#XML-Schema2">XML-Schema-2</a>, <a href="https://www.w3.org/TR/xmlschema11-2/#sec-dt-arith">section E.3.3</a>. Specifically for subtracting a duration from a date see the preceding <a href="#Addition">section</a>.</p>
<h5 id="51123-negation"><a name="Negation" href="#Negation">5.1.1.2.3 Negation</a></h5>
<p>The negation operator, represented by a minus (<code>-</code>) sign, changes the sign of its numeric or <code>Duration</code> operand.</p>
<h5 id="51124-multiplication"><a name="Multiplication" href="#Multiplication">5.1.1.2.4 Multiplication</a></h5>
<p>The <code>mul</code> operator multiplies the left and right numeric operands. The <code>mul</code> operator is also valid for multiplying a <code>Duration</code> value with a numeric value.</p>
<p>For operands of type <code>Edm.Decimal</code> the scale of the result is <span class="math inline">\({\rm scaleof}(A {\ \tt mul\ } B) = {\rm scaleof}(A) + {\rm scaleof}(B)\)</span>, <code>floating</code> if any operand has floating scale, or else <code>variable</code> if any operand has variable scale.</p>
<h5 id="51125-division"><a name="Division" href="#Division">5.1.1.2.5 Division</a></h5>
<p>The <code>div</code> and<code> divby</code> operators divide the left numeric operand by the right numeric operand. They are also valid for dividing a <code>Duration</code> value by a numeric value.</p>
<p>If the left operand is of type <code>Edm.Decimal</code> with floating scale, <code>Edm.Double</code>, or <code>Edm.Single</code>, then positive <code>div</code> zero returns <code>INF</code>, negative <code>div</code> zero returns <code>-INF</code>, and zero <code>div</code> zero returns <code>NaN</code>. For all other types the request fails.</p>
<p>For operands of type <code>Edm.Decimal</code> the result is computed with maximal decimal scale. If any operand has floating scale, the result has floating scale, else if any operand has variable scale, the result has variable scale. Otherwise the resulting scale is service-specific, and clients can use <code>cast</code> to force the result to a specific scale.</p>
<p>The <code>div</code> and<code> divby</code> operators differ in their handling of integers. If both operands to <code>div</code> are of an integer type, the result is an integer representing the whole number of times the right operator fits into the left operator. The <code>divby</code> operator, on the other hand, promotes both operands to decimal before computing the result, may yield a fractional result, and does not fail for <code>divby</code> zero, returning <code>-INF</code>, <code>INF</code>, or <code>NaN</code> depending on the sign of the left operand.</p>
<h5 id="51126-modulo"><a name="Modulo" href="#Modulo">5.1.1.2.6 Modulo</a></h5>
<p>The <code>mod</code> operator returns the remainder when the left numeric operand is divided by the right numeric operand. The sign of the result is the same as the sign of the left operand. If the right operand is zero, the request fails.</p>
<p>For operands of type <code>Edm.Decimal</code> the scale of the result is <span class="math inline">\({\rm scaleof}(A {\ \tt mod\ } B) = \max({\rm scaleof}(A), {\rm scaleof}(B))\)</span>, or <code>variable</code> if any operand has variable scale.</p>
<h5 id="51127-arithmetic-operator-examples"><a name="ArithmeticOperatorExamples" href="#ArithmeticOperatorExamples">5.1.1.2.7 Arithmetic Operator Examples</a></h5>
<p>The following examples illustrate the use and semantics of each of the Arithmetic operators.</p>
<div class="example">
<p>Example 61: all products with a Price of 2.55:</p>
<pre><code>http://host/service/Products?$filter=Price add 2.45 eq 5.00</code></pre>
</div>
<div class="example">
<p>Example 62: all products with a Price of 2.55:</p>
<pre><code>http://host/service/Products?$filter=Price sub 0.55 eq 2.00</code></pre>
</div>
<div class="example">
<p>Example 63: all products with a Price of 2.55:</p>
<pre><code>http://host/service/Products?$filter=Price mul 2.0 eq 5.10</code></pre>
</div>
<div class="example">
<p>Example 64: all products with a Price of 2.55:</p>
<pre><code>http://host/service/Products?$filter=Price div 2.55 eq 1</code></pre>
</div>
<div class="example">
<p>Example 65: all products with an integer Rating value of 4 or 5:</p>
<pre><code>http://host/service/Products?$filter=Rating div 2 eq 2</code></pre>
</div>
<div class="example">
<p>Example 66: all products with an integer Rating value of 5:</p>
<pre><code>http://host/service/Products?$filter=Rating divby 2 eq 2.5</code></pre>
</div>
<div class="example">
<p>Example 67: all products with a Rating exactly divisible by 5:</p>
<pre><code>http://host/service/Products?$filter=Rating mod 5 eq 0</code></pre>
</div>
<h4 id="5113-grouping"><a name="Grouping" href="#Grouping">5.1.1.3 Grouping</a></h4>
<p>The Grouping operator (open and close parenthesis ‚Äú<code>( )</code>‚Äù) controls the evaluation order of an expression. The Grouping operator returns the expression grouped inside the parenthesis.</p>
<div class="example">
<p>Example 68: all products because 9 mod 3 is 0</p>
<pre><code>http://host/service/Products?$filter=(4 add 5) mod (4 sub 1) eq 0</code></pre>
</div>
<h4 id="5114-canonical-functions"><a name="CanonicalFunctions" href="#CanonicalFunctions">5.1.1.4 Canonical Functions</a></h4>
<p>In addition to operators, a set of functions is also defined for use with the <a href="#SystemQueryOptioncompute"><code>$compute</code></a>, <code>$filter</code> or <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> system query options, or in <a href="#ParameterAliases">parameter alias</a> values. The following sections describe the available functions.</p>
<p>Note: ISNULL or COALESCE operators are not defined. Instead, OData defines a <a href="#null"><code>null</code></a> literal that can be used in comparisons.</p>
<p>If a parameter of a canonical function is <code>null</code>, the function returns <code>null</code>.</p>
<p>The syntax rules for all functions are defined in <a href="#ODataABNF">OData-ABNF</a>. 4.01 Services MUST support case-insensitive canonical function names. Clients that want to work with 4.0 services MUST use lower case canonical function names.</p>
<h4 id="5115-string-and-collection-functions"><a name="StringandCollectionFunctions" href="#StringandCollectionFunctions">5.1.1.5 String and Collection Functions</a></h4>
<h5 id="51151-concat"><a name="concat" href="#concat">5.1.1.5.1 <code>concat</code></a></h5>
<p>The <code>concat</code> function has three overloads, with the following signatures:</p>
<pre><code>Edm.String concat(Edm.String,Edm.String)
Collection concat(Collection,Collection)
OrderedCollection concat(OrderedCollection,OrderedCollection)</code></pre>
<p>The <code>concat</code> function with string parameter values returns a string that appends the second parameter string value to the first.</p>
<p>The concat function with collection parameter values returns a collection that appends all items of the second collection to the first. If both collections are ordered, the result is also ordered.</p>
<p>The <code>concatMethodCallExpr</code> syntax rule defines how the <code>concat</code> function is invoked.</p>
<div class="example">
<p>Example 69: all customers from Berlin, Germany</p>
<pre><code>http://host/service/Customers?$filter=concat(concat(City,&#39;, &#39;),Country) eq &#39;Berlin, Germany&#39;</code></pre>
</div>
<h5 id="51152-contains"><a name="contains" href="#contains">5.1.1.5.2 <code>contains</code></a></h5>
<p>The <code>contains</code> function has two overloads, with the following signatures:</p>
<pre><code>Edm.Boolean contains(Edm.String,Edm.String)
Edm.Boolean contains(OrderedCollection,OrderedCollection)</code></pre>
<p>The <code>contains</code> function with string parameter values returns true if the second string is a substring of the first string, otherwise it returns false. String comparison is case-sensitive, case-insensitive comparison can be achieved in combination with <a href="#tolower"><code>tolower</code></a> or <a href="#toupper"><code>toupper</code></a>.</p>
<p>The <code>contains</code> function with ordered collection parameter values returns true if the first collection can be transformed into the second collection by removing zero or more items from the beginning or the end of the first collection.</p>
<p>The <code>containsMethodCallExpr</code> syntax rule defines how the <code>contains</code> function is invoked.</p>
<div class="example">
<p>Example 70: all customers with a <code>CompanyName</code> that contains <code>Alfreds</code></p>
<pre><code>http://host/service/Customers?$filter=contains(CompanyName,&#39;Alfreds&#39;)</code></pre>
</div>
<h5 id="51153-endswith"><a name="endswith" href="#endswith">5.1.1.5.3 <code>endswith</code></a></h5>
<p>The <code>endswith</code> function has two overloads, with the following signatures:</p>
<pre><code>Edm.Boolean endswith(Edm.String,Edm.String)
Edm.Boolean endswith(OrderedCollection,OrderedCollection)</code></pre>
<p>The <code>endswith</code> function with string parameter values returns true if the first string ends with the second string, otherwise it returns false. String comparison is case-sensitive, case-insensitive comparison can be achieved in combination with <a href="#tolower"><code>tolower</code></a> or <a href="#toupper"><code>toupper</code></a>.</p>
<p>The <code>endswith</code> function with ordered collection parameter values returns true if the first collection can be transformed into the second collection by removing zero or more items from the beginning of the first collection.</p>
<p>The <code>endsWithMethodCallExpr</code> syntax rule defines how the <code>endswith</code> function is invoked.</p>
<div class="example">
<p>Example 71: all customers with a <code>CompanyName</code> that ends with <code>Futterkiste</code></p>
<pre><code>http://host/service/Customers?$filter=endswith(CompanyName,&#39;Futterkiste&#39;)</code></pre>
</div>
<h5 id="51154-indexof"><a name="indexof" href="#indexof">5.1.1.5.4 <code>indexof</code></a></h5>
<p>The <code>indexof</code> function has two overloads, with the following signatures:</p>
<pre><code>Edm.Int32 indexof(Edm.String,Edm.String)
Edm.Int32 indexof(OrderedCollection,OrderedCollection)</code></pre>
<p>The <code>indexof</code> function with string parameter values returns the zero-based character position of the first occurrence of the second string in the first string, or -1 if the first string does not contain the second string. String comparison is case-sensitive, case-insensitive comparison can be achieved in combination with <a href="#tolower"><code>tolower</code></a> or <a href="#toupper"><code>toupper</code></a>.</p>
<p>The <code>indexof</code> function with ordered collection parameter values returns the zero-based index of the first occurrence of the second collection in the first collection, or -1 if the first collection does not contain the second collection.</p>
<p>The <code>indexOfMethodCallExpr</code> syntax rule defines how the <code>indexof</code> function is invoked.</p>
<div class="example">
<p>Example 72: all customers with a <code>CompanyName</code> containing <code>lfreds</code> starting at the second character</p>
<pre><code>http://host/service/Customers?$filter=indexof(CompanyName,&#39;lfreds&#39;) eq 1</code></pre>
</div>
<h5 id="51155-length"><a name="length" href="#length">5.1.1.5.5 <code>length</code></a></h5>
<p>The <code>length</code> function has two overloads, with the following signatures:</p>
<pre><code>Edm.Int32 length(Edm.String)
Edm.Int32 length(Collection)</code></pre>
<p>The <code>length</code> function with a string parameter value returns the number of characters in the string.</p>
<p>The <code>length</code> function with a collection parameter value returns the number of itens in the collection.</p>
<p>The <code>lengthMethodCallExpr</code> syntax rule defines how the <code>length</code> function is invoked.</p>
<div class="example">
<p>Example 73: all customers with a <code>CompanyName</code> that is 19 characters long</p>
<pre><code>http://host/service/Customers?$filter=length(CompanyName) eq 19</code></pre>
</div>
<h5 id="51156-startswith"><a name="startswith" href="#startswith">5.1.1.5.6 <code>startswith</code></a></h5>
<p>The <code>startswith</code> function has two overloads, with the following signatures:</p>
<pre><code>Edm.Boolean startswith(Edm.String,Edm.String)
Edm.Boolean startswith(Collection,Collection)</code></pre>
<p>The <code>startswith</code> function with string parameter values returns true if the first string starts with the second string, otherwise it returns false. String comparison is case-sensitive, case-insensitive comparison can be achieved in combination with <a href="#tolower"><code>tolower</code></a> or <a href="#toupper"><code>toupper</code></a>.</p>
<p>The <code>startswith</code> function with ordered collection parameter values returns true if the first collection can be transformed into the second collection by removing zero or more items from the end of the first collection.</p>
<p>The <code>startsWithMethodCallExpr</code> syntax rule defines how the <code>startswith</code> function is invoked.</p>
<div class="example">
<p>Example 74: all customers with a <code>CompanyName</code> that starts with <code>Alfr</code></p>
<pre><code>http://host/service/Customers?$filter=startswith(CompanyName,&#39;Alfr&#39;)</code></pre>
</div>
<h5 id="51157-substring"><a name="substring" href="#substring">5.1.1.5.7 <code>substring</code></a></h5>
<p>The <code>substring</code> function has four overloads, with the following signatures:</p>
<pre><code>Edm.String substring(Edm.String,Edm.Int32)
Edm.String substring(Edm.String,Edm.Int32,Edm.Int32)
OrderedCollection substring(OrderedCollection,Edm.Int32)
OrderedCollection substring(OrderedCollection,Edm.Int32,Edm.Int32)</code></pre>
<p>The two-parameter <code>substring</code> function with string parameter values returns a substring of the first parameter string value, starting at the Nth character and finishing at the last character (where N is the second parameter integer value). The three-parameter <code>substring</code> function with string parameter values returns a substring of the first parameter string value identified by selecting up to M characters starting at the Nth character (where N is the second parameter integer value and M is the third parameter integer value).</p>
<p>The two-parameter <code>substring</code> function with ordered collection parameter values returns an ordered collection consisting of all items of the first collection starting at the Nth item and finishing at the last item. The three-parameter <code>substring</code> function with ordered collection parameter values returns an ordered collection consisting of up to M items of the first collection starting at the Nth item (where N is the second parameter integer value and M is the third parameter integer value).</p>
<p>The start index N is zero-based.</p>
<p>If the start index N is larger than the length of the string/collection, an empty string/collection is returned.</p>
<p>If the length M is larger than the length of the remaining string/collection starting at the Nth character/item, as many characters/items as are available are returned.</p>
<p>A negative length M is a bad request.</p>
<p>A negative start index N, if supported, returns a string/collection starting N characters/items before the end of the string/collection.</p>
<p>The <code>substringMethodCallExpr</code> syntax rule defines how the <code>substring</code> function is invoked.</p>
<div class="example">
<p>Example 75: all customers with a <code>CompanyName</code> of <code>lfreds Futterkiste</code> once the first character has been removed</p>
<pre><code>http://host/service/Customers?$filter=substring(CompanyName,1) eq &#39;lfreds Futterkiste&#39;</code></pre>
</div>
<div class="example">
<p>Example 76: all customers with a <code>CompanyName</code> that has <code>lf</code> as the second and third characters, e.g, <code>Alfreds Futterkiste</code></p>
<pre><code>http://host/service/Customers?$filter=substring(CompanyName,1,2) eq &#39;lf&#39;</code></pre>
</div>
<h4 id="5116-collection-functions"><a name="CollectionFunctions" href="#CollectionFunctions">5.1.1.6 Collection Functions</a></h4>
<h5 id="51161-hassubset"><a name="hassubset" href="#hassubset">5.1.1.6.1 <code>hassubset</code></a></h5>
<p>The <code>hassubset</code> function has the following signature:</p>
<pre><code>Edm.Boolean hassubset(Collection, Collection)</code></pre>
<p>The <code>hassubset</code> function returns true if the first collection can be transformed into the second collection by reordering and/or removing zero or more items. The <code>hasSubsetMethodCallExpr</code> syntax rule defines how the <code>hassubset</code> function is invoked.</p>
<div class="example">
<p>Example 77: <code>hassubset</code> expressions that return true</p>
<pre><code>hassubset([4,1,3],[4,1,3])</code></pre>
<pre><code>hassubset([4,1,3],[1,3,4])</code></pre>
<pre><code>hassubset([4,1,3],[3,1])</code></pre>
<pre><code>hassubset([4,1,3],[4,3])</code></pre>
<pre><code>hassubset([4,1,3,1],[1,1])</code></pre>
</div>
<div class="example">
<p>Example 78: <code>hassubset</code> expression that returns false: 1 appears only once in the left operand</p>
<pre><code>hassubset([1,2],[1,1,2])</code></pre>
</div>
<h5 id="51162-hassubsequence"><a name="hassubsequence" href="#hassubsequence">5.1.1.6.2 <code>hassubsequence</code></a></h5>
<p>The <code>hassubsequence</code> function has the following signature:</p>
<pre><code>Edm.Boolean hassubsequence(OrderedCollection,OrderedCollection)</code></pre>
<p>The <code>hassubsequence</code> function returns true if the first collection can be transformed into the second collection by removing zero or more items. The <code>hasSubsequenceMethodCallExpr</code> syntax rule defines how the <code>hassubsequence</code> function is invoked.</p>
<div class="example">
<p>Example 79: <code>hassubsequence</code> expressions that return true</p>
<pre><code>hassubsequence([4,1,3],[4,1,3])</code></pre>
<pre><code>hassubsequence([4,1,3],[4,1])</code></pre>
<pre><code>hassubsequence([4,1,3],[4,3])</code></pre>
<pre><code>hassubsequence([4,1,3,1],[1,1])</code></pre>
</div>
<div class="example">
<p>Example 80: <code>hassubsequence</code> expressions that return false</p>
<pre><code>hassubsequence([4,1,3],[1,3,4])</code></pre>
<pre><code>hassubsequence([4,1,3],[3,1])</code></pre>
<pre><code>hassubsequence([1,2],[1,1,2])</code></pre>
</div>
<h4 id="5117-string-functions"><a name="StringFunctions" href="#StringFunctions">5.1.1.7 String Functions</a></h4>
<h5 id="51171-matchespattern"><a name="matchespattern" href="#matchespattern">5.1.1.7.1 <code>matchespattern</code></a></h5>
<p>The <code>matchespattern</code> function has the following signatures:</p>
<pre><code>Edm.Boolean matchespattern(Edm.String,Edm.String)
Edm.Boolean matchespattern(Edm.String,Edm.String,Edm.String)</code></pre>
<p>The second parameter MUST evaluate to a string containing an <a href="#_ECMAScript">ECMAScript</a> (JavaScript) regular expression. The <code>matchespattern</code> function returns true if the first parameter evaluates to a string matching that regular expression, using syntax and semantics of ECMAScript regular expressions, otherwise it returns false. If the optional third parameter is provided, it MUST evaluate to a string consisting of ECMAScript regular expression flags to modify the match.</p>
<div class="example">
<p>Example 81: all customers with a <code>CompanyName</code> that match the (percent-encoded) regular expression <code>^A.*e$</code></p>
<pre><code>http://host/service/Customers?$filter=matchespattern(CompanyName,&#39;%5EA.*e$&#39;)</code></pre>
</div>
<div class="example">
<p>Example 82: all customers with a <code>FormattedAddress</code> that contains a line ending with <code>berg</code> or ends with <code>berg</code></p>
<pre><code>http://host/service/Customers?$filter=matchespattern(FormattedAddress,&#39;berg$&#39;,&#39;m&#39;)</code></pre>
</div>
<h5 id="51172-tolower"><a name="tolower" href="#tolower">5.1.1.7.2 <code>tolower</code></a></h5>
<p>The <code>tolower</code> function has the following signature:</p>
<pre><code>Edm.String tolower(Edm.String)</code></pre>
<p>The <code>tolower</code> function returns the input parameter string value with all uppercase characters converted to lowercase according to Unicode rules. The <code>toLowerMethodCallExpr</code> syntax rule defines how the <code>tolower</code> function is invoked.</p>
<div class="example">
<p>Example 83: all customers with a <code>CompanyName</code> that equals <code>alfreds futterkiste</code> once any uppercase characters have been converted to lowercase</p>
<pre><code>http://host/service/Customers?$filter=tolower(CompanyName) eq &#39;alfreds futterkiste&#39;</code></pre>
</div>
<h5 id="51173-toupper"><a name="toupper" href="#toupper">5.1.1.7.3 <code>toupper</code></a></h5>
<p>The <code>toupper</code> function has the following signature:</p>
<pre><code>Edm.String toupper(Edm.String)</code></pre>
<p>The <code>toupper</code> function returns the input parameter string value with all lowercase characters converted to uppercase according to Unicode rules. The <code>toUpperMethodCallExpr</code> syntax rule defines how the <code>toupper</code> function is invoked.</p>
<div class="example">
<p>Example 84: all customers with a <code>CompanyName</code> that equals <code>ALFREDS FUTTERKISTE</code> once any lowercase characters have been converted to uppercase</p>
<pre><code>http://host/service/Customers?$filter=toupper(CompanyName) eq &#39;ALFREDS FUTTERKISTE&#39;</code></pre>
</div>
<h5 id="51174-trim"><a name="trim" href="#trim">5.1.1.7.4 <code>trim</code></a></h5>
<p>The <code>trim</code> function has the following signature:</p>
<pre><code>Edm.String trim(Edm.String)</code></pre>
<p>The <code>trim</code> function returns the input parameter string value with all leading and trailing whitespace characters, according to Unicode rules, removed. The <code>trimMethodCallExpr</code> syntax rule defines how the <code>trim</code> function is invoked.</p>
<div class="example">
<p>Example 85: all customers with a <code>CompanyName</code> without leading or trailing whitespace characters</p>
<pre><code>http://host/service/Customers?$filter=trim(CompanyName) eq CompanyName</code></pre>
</div>
<h4 id="5118-date-and-time-functions"><a name="DateandTimeFunctions" href="#DateandTimeFunctions">5.1.1.8 Date and Time Functions</a></h4>
<h5 id="51181-date"><a name="date" href="#date">5.1.1.8.1 <code>date</code></a></h5>
<p>The <code>date</code> function has the following signature:</p>
<pre><code>Edm.Date date(Edm.DateTimeOffset)</code></pre>
<p>The <code>date</code> function returns the date part of the <code>DateTimeOffset</code> parameter value, evaluated in the time zone of the <code>DateTimeOffset</code> parameter value.</p>
<h5 id="51182-day"><a name="day" href="#day">5.1.1.8.2 <code>day</code></a></h5>
<p>The <code>day</code> function has the following signatures:</p>
<pre><code>Edm.Int32 day(Edm.Date)
Edm.Int32 day(Edm.DateTimeOffset)</code></pre>
<p>The <code>day</code> function returns the day component <code>Date</code> or <code>DateTimeOffset</code> parameter value, evaluated in the time zone of the <code>DateTimeOffset</code> parameter value. The <code>dayMethodCallExpr</code> syntax rule defines how the <code>day</code> function is invoked.</p>
<p>Services that are unable to preserve the offset of <code>Edm.DateTimeOffset</code> values and instead normalize the values to some common time zone (for example UTC) MUST fail evaluation of the <code>day</code> function for literal <code>Edm.DateTimeOffset</code> values that are not stated in the time zone of the normalized values.</p>
<div class="example">
<p>Example 86: all employees born on the 8th day of a month</p>
<pre><code>http://host/service/Employees?$filter=day(BirthDate) eq 8</code></pre>
</div>
<h5 id="51183-fractionalseconds"><a name="fractionalseconds" href="#fractionalseconds">5.1.1.8.3 <code>fractionalseconds</code></a></h5>
<p>The <code>fractionalseconds</code> function has the following signatures:</p>
<pre><code>Edm.Decimal fractionalseconds[(Edm.DateTimeOffset)
Edm.Decimal fractionalseconds(Edm.TimeOfDay)</code></pre>
<p>The <code>fractionalseconds</code> function returns the fractional seconds component of the <code>DateTimeOffset</code> or <code>TimeOfDay</code> parameter value as a non-negative decimal value less than 1. The <code>fractionalsecondsMethodCallExpr</code> syntax rule defines how the <code>fractionalseconds</code> function is invoked.</p>
<div class="example">
<p>Example 87: all employees born less than 100 milliseconds after a full second of any minute of any hour on any day</p>
<pre><code>http://host/service/Employees?$filter=[fractionalseconds(BirthDate) lt 0.1</code></pre>
</div>
<h5 id="51184-hour"><a name="hour" href="#hour">5.1.1.8.4 <code>hour</code></a></h5>
<p>The <code>hour</code> function has the following signatures:</p>
<pre><code>Edm.Int32 hour(Edm.DateTimeOffset)
Edm.Int32 hour(Edm.TimeOfDay)</code></pre>
<p>The <code>hour</code> function returns the hour component (<code>0</code> to <code>23</code>) of the <code>DateTimeOffset</code> or <code>TimeOfDay</code> parameter value, evaluated in the time zone of the <code>DateTimeOffset</code> parameter value. The <code>hourMethodCallExpr</code> syntax rule defines how the <code>hour</code> function is invoked.</p>
<p>Services that are unable to preserve the offset of <code>Edm.DateTimeOffset</code> values and instead normalize the values to some common time zone (for example UTC) MUST fail evaluation of the <code>hour</code> function for literal <code>Edm.DateTimeOffset</code> values that are not stated in the time zone of the normalized values.</p>
<div class="example">
<p>Example 88: all employees born in hour 4, between 04:00 (inclusive) and 05:00 (exclusive)</p>
<pre><code>http://host/service/Employees?$filter=hour(BirthDate) eq 4</code></pre>
</div>
<h5 id="51185-maxdatetime"><a name="maxdatetime" href="#maxdatetime">5.1.1.8.5 <code>maxdatetime</code></a></h5>
<p>The <code>maxdatetime</code> function has the following signature:</p>
<pre><code>Edm.DateTimeOffset maxdatetime()</code></pre>
<p>The <code>maxdatetime</code> function returns the latest possible point in time as a <code>DateTimeOffset</code> value.</p>
<h5 id="51186-mindatetime"><a name="mindatetime" href="#mindatetime">5.1.1.8.6 <code>mindatetime</code></a></h5>
<p>The <code>mindatetime</code> function has the following signature:</p>
<pre><code>Edm.DateTimeOffset mindatetime()</code></pre>
<p>The <code>mindatetime</code> function returns the earliest possible point in time as a <code>DateTimeOffset</code> value.</p>
<h5 id="51187-minute"><a name="minute" href="#minute">5.1.1.8.7 <code>minute</code></a></h5>
<p>The <code>minute</code> function has the following signatures:</p>
<pre><code>Edm.Int32 minute(Edm.DateTimeOffset)
Edm.Int32 minute(Edm.TimeOfDay)</code></pre>
<p>The <code>minute</code> function returns the minute component (<code>0</code> to <code>59</code>) of the <code>DateTimeOffset</code> or <code>TimeOfDay</code> parameter value, evaluated in the time zone of the <code>DateTimeOffset</code> parameter value. The <code>minuteMethodCallExpr</code> syntax rule defines how the <code>minute</code> function is invoked.</p>
<div class="example">
<p>Example 89: all employees born in minute 40 of any hour on any day</p>
<pre><code>http://host/service/Employees?$filter=minute(BirthDate) eq 40</code></pre>
</div>
<h5 id="51188-month"><a name="month" href="#month">5.1.1.8.8 <code>month</code></a></h5>
<p>The <code>month</code> function has the following signatures:</p>
<pre><code>Edm.Int32 month(Edm.Date)
Edm.Int32 month(Edm.DateTimeOffset)</code></pre>
<p>The <code>month</code> function returns the month component of the <code>Date</code> or <code>DateTimeOffset</code> parameter value, evaluated in the time zone of the <code>DateTimeOffset</code> parameter value. The <code>monthMethodCallExpr</code> syntax rule defines how the <code>month</code> function is invoked.</p>
<p>Services that are unable to preserve the offset of <code>Edm.DateTimeOffset</code> values and instead normalize the values to some common time zone (for example UTC) MUST fail evaluation of the <code>month</code> function for literal <code>Edm.DateTimeOffset</code> values that are not stated in the time zone of the normalized values.</p>
<div class="example">
<p>Example 90: all employees born in May</p>
<pre><code>http://host/service/Employees?$filter=month(BirthDate) eq 5</code></pre>
</div>
<h5 id="51189-now"><a name="now" href="#now">5.1.1.8.9 <code>now</code></a></h5>
<p>The <code>now</code> function has the following signature:</p>
<pre><code>Edm.DateTimeOffset now()</code></pre>
<p>The <code>now</code> function returns the current point in time (date and time with time zone) as a <code>DateTimeOffset</code> value.</p>
<p>Services are free to choose the time zone for the current point, for example UTC. Services that are unable to preserve the offset of <code>Edm.DateTimeOffset</code> values and instead normalize the values to some common time zone SHOULD return a value in the normalized time zone (for example UTC).</p>
<h5 id="511810-second"><a name="second" href="#second">5.1.1.8.10 <code>second</code></a></h5>
<p>The <code>second</code> function has the following signatures:</p>
<pre><code>Edm.Int32 second(Edm.DateTimeOffset)
Edm.Int32 second(Edm.TimeOfDay)</code></pre>
<p>The <code>second</code> function returns the second component (<code>0</code> to <code>59</code> for regular seconds, and <code>60</code> for leap seconds, without the fractional part) of the <code>DateTimeOffset</code> or <code>TimeOfDay</code> parameter value. The <code>secondMethodCallExpr</code> syntax rule defines how the <code>second</code> function is invoked.</p>
<div class="example">
<p>Example 91: all employees born in second 40 of any minute of any hour on any day</p>
<pre><code>http://host/service/Employees?$filter=second(BirthDate) eq 40</code></pre>
</div>
<h5 id="511811-time"><a name="time" href="#time">5.1.1.8.11 <code>time</code></a></h5>
<p>The <code>time</code> function has the following signature:</p>
<pre><code>Edm.TimeOfDay time(Edm.DateTimeOffset)</code></pre>
<p>The <code>time</code> function returns the time part of the <code>DateTimeOffset</code> parameter value, evaluated in the time zone of the <code>DateTimeOffset</code> parameter value.</p>
<p>Services that are unable to preserve the offset of <code>Edm.DateTimeOffset</code> values and instead normalize the values to some common time zone (for example UTC) MUST fail evaluation of the <code>time</code> function for literal <code>Edm.DateTimeOffset</code> values that are not stated in the time zone of the normalized values.</p>
<h5 id="511812-totaloffsetminutes"><a name="totaloffsetminutes" href="#totaloffsetminutes">5.1.1.8.12 <code>totaloffsetminutes</code></a></h5>
<p>The <code>totaloffsetminutes</code> function has the following signature:</p>
<pre><code>Edm.Int32 totaloffsetminutes(Edm.DateTimeOffset)</code></pre>
<p>The <code>totaloffsetminutes</code> function returns the signed number of minutes in the time zone offset part of the <code>DateTimeOffset</code> parameter value, evaluated in the time zone of the <code>DateTimeOffset</code> parameter value.</p>
<h5 id="511813-totalseconds"><a name="totalseconds" href="#totalseconds">5.1.1.8.13 <code>totalseconds</code></a></h5>
<p>The <code>totalseconds</code> function has the following signature:</p>
<pre><code>Edm.Decimal totalseconds(Edm.Duration)</code></pre>
<p>The <code>totalseconds</code> function returns the duration of the value in total seconds, including fractional seconds.</p>
<h5 id="511814-year"><a name="year" href="#year">5.1.1.8.14 <code>year</code></a></h5>
<p>The <code>year</code> function has the following signatures:</p>
<pre><code>Edm.Int32 year(Edm.Date)
Edm.Int32 year(Edm.DateTimeOffset)</code></pre>
<p>The <code>year</code> function returns the year component of the <code>Date</code> or <code>DateTimeOffset</code> parameter value, evaluated in the time zone of the <code>DateTimeOffset</code> parameter value. The <code>yearMethodCallExpr</code> syntax rule defines how the <code>year</code> function is invoked.</p>
<p>Services that are unable to preserve the offset of <code>Edm.DateTimeOffset</code> values and instead normalize the values to some common time zone (for example UTC) MUST fail evaluation of the <code>year</code> function for literal <code>Edm.DateTimeOffset</code> values that are not stated in the time zone of the normalized values.</p>
<div class="example">
<p>Example 92: all employees born in 1971</p>
<pre><code>http://host/service/Employees?$filter=year(BirthDate) eq 1971</code></pre>
</div>
<h4 id="5119-arithmetic-functions"><a name="ArithmeticFunctions" href="#ArithmeticFunctions">5.1.1.9 Arithmetic Functions</a></h4>
<h5 id="51191-ceiling"><a name="ceiling" href="#ceiling">5.1.1.9.1 <code>ceiling</code></a></h5>
<p>The <code>ceiling</code> function has the following signatures</p>
<pre><code>Edm.Double ceiling(Edm.Double)
Edm.Decimal ceiling(Edm.Decimal)</code></pre>
<p>The <code>ceiling</code> function rounds the input numeric parameter up to the nearest numeric value with no decimal component. The <code>ceilingMethodCallExpr</code> syntax rule defines how the <code>ceiling</code> function is invoked.</p>
<div class="example">
<p>Example 93: all orders with freight costs that round up to 32</p>
<pre><code>http://host/service/Orders?$filter=ceiling(Freight) eq 32</code></pre>
</div>
<h5 id="51192-floor"><a name="floor" href="#floor">5.1.1.9.2 <code>floor</code></a></h5>
<p>The <code>floor</code> function has the following signatures</p>
<pre><code>Edm.Double floor(Edm.Double)
Edm.Decimal floor(Edm.Decimal)</code></pre>
<p>The <code>floor</code> function rounds the input numeric parameter down to the nearest numeric value with no decimal component. The <code>floorMethodCallExpr</code> syntax rule defines how the <code>floor</code> function is invoked.</p>
<div class="example">
<p>Example 94: all orders with freight costs that round down to 32</p>
<pre><code>http://host/service/Orders?$filter=floor(Freight) eq 32</code></pre>
</div>
<h5 id="51193-round"><a name="round" href="#round">5.1.1.9.3 <code>round</code></a></h5>
<p>The <code>round</code> function has the following signatures</p>
<pre><code>Edm.Double round(Edm.Double)
Edm.Decimal round(Edm.Decimal)</code></pre>
<p>The <code>round</code> function rounds the input numeric parameter to the nearest numeric value with no decimal component. The mid-point between two integers is rounded away from zero, i.e. 0.5 is rounded to 1 and -0.5 is rounded to -1. The <code>roundMethodCallExpr</code> syntax rule defines how the <code>round</code> function is invoked.</p>
<div class="example">
<p>Example 95: all orders with freight costs that round to 32</p>
<pre><code>http://host/service/Orders?$filter=round(Freight) eq 32</code></pre>
</div>
<h4 id="51110-type-functions"><a name="TypeFunctions" href="#TypeFunctions">5.1.1.10 Type Functions</a></h4>
<h5 id="511101-cast"><a name="cast" href="#cast">5.1.1.10.1 <code>cast</code></a></h5>
<p>The <code>cast</code> function has the following signatures:</p>
<pre><code>type cast(type)
type cast(expression,type)</code></pre>
<p>The single parameter <code>cast</code> function returns the current instance cast to the type specified. The two-parameter <code>cast</code> function returns the object referred to by the expression cast to the type specified.</p>
<p>The <code>cast</code> function follows these assignment rules:</p>
<ol type="1">
<li>The <code>null</code> value can be cast to any type.</li>
<li>Primitive types are cast to <code>Edm.String</code> or a type definition based on it by using the literal representation used in payloads, and WKT (well-known text) format for <code>Geo</code> types, see rules <code>fullCollectionLiteral</code>, <code>fullLineStringLiteral</code>, <code>fullMultiPointLiteral</code>, <code>fullMultiLineStringLiteral</code>, <code>fullMultiPolygonLiteral</code>, <code>fullPointLiteral</code>, and <code>fullPolygonLiteral</code> in <a href="#ODataABNF">OData-ABNF</a>. The cast fails if the target type specifies an insufficient <code>MaxLength</code>.</li>
<li><code>Edm.String</code>, or a type definition based on <code>Edm.String</code>, can be cast to a primitive type if the string contains a literal representation for the target type.</li>
<li>Numeric primitive types are cast to each other with appropriate rounding. The cast fails if the integer part doesn‚Äôt fit into the target type.</li>
<li><code>Edm.DateTimeOffset</code>, <code>Edm.Duration</code>, and <code>Edm.TimeOfDay</code> values can be cast to the same type with a different precision with appropriate rounding.</li>
<li>Non-Unicode string values can be cast to a Unicode string type definition. Unicode string values can be cast to a non-Unicode string type definition if the Unicode string only contains ASCII characters.</li>
<li>Structured types are assignable to their type or a direct or indirect base type.</li>
<li>Collections are cast item by item.</li>
<li>Enumeration types are cast to integer types based on the numeric value of the enumeration member. The cast fails if the numeric value is not in the value range of the target type.</li>
<li>Integer types are cast to enumeration types based on the numeric value of the enumeration members of the target type. For non-flag enumeration types the cast fails if there is no enumeration member with the same numeric value as the integer value. For flag enumeration types the cast fails if the integer value is not in the value range of the underlying integer type of the enumeration type.</li>
<li>String values containing a representation of a date-time value according to <a href="#XML-Schema2">XML-Schema-2</a>, <a href="https://www.w3.org/TR/xmlschema11-2/#dateTime">section 3.3.7 dateTime</a>, can be cast to <code>Edm.DateTimeOffset</code>. If the string value does not contain a time-zone offset, it is treated as UTC.</li>
</ol>
<p>The <code>cast</code> function is optional for primitive values (first five rules) and up-casts (seventh rule).</p>
<p>If the cast fails, the <code>cast</code> function returns <code>null</code>.</p>
<h5 id="511102-isof"><a name="isof" href="#isof">5.1.1.10.2 <code>isof</code></a></h5>
<p>The <code>isof</code> function has the following signatures</p>
<pre><code>Edm.Boolean isof(type)
Edm.Boolean isof(expression,type)</code></pre>
<p>The single parameter <code>isof</code> function returns true if the current instance is assignable to the type specified, according to the assignment rules for the <a href="#cast"><code>cast</code></a> function, otherwise it returns <code>false</code>.</p>
<p>The two parameter <code>isof</code> function returns true if the object referred to by the expression is assignable to the type specified, according to the same rules, otherwise it returns false.</p>
<p>The <code>isofExpr</code> syntax rule defines how the <code>isof</code> function is invoked.</p>
<div class="example">
<p>Example 96: orders that are also <code>BigOrders</code></p>
<pre><code>http://host/service/Orders?$filter=isof(NorthwindModel.BigOrder)</code></pre>
<pre><code>http://host/service/Orders?$filter=isof($it,NorthwindModel.BigOrder)</code></pre>
</div>
<div class="example">
<p>Example 97: orders of a customer that is a <code>VIPCustomer</code></p>
<pre><code>http://host/service/Orders?$filter=isof(Customer,NorthwindModel.VIPCustomer)</code></pre>
</div>
<h4 id="51111-geo-functions"><a name="GeoFunctions" href="#GeoFunctions">5.1.1.11 Geo Functions</a></h4>
<h5 id="511111-geodistance"><a name="geodistance" href="#geodistance">5.1.1.11.1 <code>geo.distance</code></a></h5>
<p>The <code>geo.distance</code> function has the following signatures:</p>
<pre><code>Edm.Double geo.distance(Edm.GeographyPoint,Edm.GeographyPoint)
Edm.Double geo.distance(Edm.GeometryPoint,Edm.GeometryPoint)</code></pre>
<p>The <code>geo.distance</code> function returns the shortest distance between the two points in the coordinate reference system signified by the two points‚Äô SRIDs.</p>
<h5 id="511112-geointersects"><a name="geointersects" href="#geointersects">5.1.1.11.2 <code>geo.intersects</code></a></h5>
<p>The <code>geo.intersects</code> function has the following signatures:</p>
<pre><code>Edm.Boolean geo.intersects(Edm.GeographyPoint,Edm.GeographyPolygon)
Edm.Boolean geo.intersects(Edm.GeometryPoint,Edm.GeometryPolygon)</code></pre>
<p>The <code>geo.intersects</code> function returns true if the specified point lies within the interior or on the boundary of the specified polygon, otherwise it returns false.</p>
<h5 id="511113-geolength"><a name="geolength" href="#geolength">5.1.1.11.3 <code>geo.length</code></a></h5>
<p>The <code>geo.length</code> function has the following signatures:</p>
<pre><code>Edm.Double geo.length(Edm.GeographyLineString)
Edm.Double geo.length(Edm.GeometryLineString)</code></pre>
<p>The <code>geo.length</code> function returns the total length of its line string parameter in the coordinate reference system signified by its SRID.</p>
<h4 id="51112-conditional-functions"><a name="ConditionalFunctions" href="#ConditionalFunctions">5.1.1.12 Conditional Functions</a></h4>
<h5 id="511121-case"><a name="case" href="#case">5.1.1.12.1 <code>case</code></a></h5>
<p>The <code>case</code> function has the following signature:</p>
<pre><code>expression case(Edm.Boolean:expression, ‚Ä¶, Edm.Boolean:expression)</code></pre>
<p>Each parameter is a pair of expressions separated by a colon (<code>:</code>), where the first expression ‚Äî the condition ‚Äî MUST be a Boolean expression, and the second expression ‚Äî the result ‚Äî may evaluate to any type.</p>
<p>The case function evaluates the condition in each pair, starting with the leftmost pair, and stops as soon as a condition evaluates to <code>true</code>. It then returns the value of the result of this pair. It returns <code>null</code> if none of the conditions in any pair evaluates to <code>true</code>. Clients can specify a last pair whose condition is <code>true</code> to get a non-null ‚Äúdefault/else/otherwise‚Äù result.</p>
<p>Boolean expressions containing <code>DateTimeOffset</code> or <code>TimeOfDay</code> literals without the optional seconds part will introduce ambiguity for parsers. Clients SHOULD use whitespace or parentheses to avoid ambiguity.</p>
<p>Clients SHOULD ensure that the results in all pairs are compatible. If all results are of the same type, the type of the <code>case</code> expression is of that type. If all results are of numeric type, then the type of the <code>case</code> expression is a numeric type capable of representing any of these expressions according to standard type promotion rules.</p>
<p>Services MAY support <code>case</code> expressions containing parameters of incompatible types, in which case the case expression is treated as <code>Edm.Untyped</code> and its value has the type of the parameter expression selected by the case statement.</p>
<div class="example">
<p>Example 98: compute signum(X)</p>
<pre><code>$compute=case(X gt 0:1,X lt 0:-1,true:0) as SignumX</code></pre>
</div>
<h4 id="51113-lambda-operators"><a name="LambdaOperators" href="#LambdaOperators">5.1.1.13 Lambda Operators</a></h4>
<p>OData defines two operators that evaluate a Boolean expression on a collection. Both must be prepended with a path expression that identifies a collection.</p>
<p>4.01 Services MUST support case-insensitive lambda operator names. Clients that want to work with 4.0 services MUST use lower case lambda operator names.</p>
<p>The argument of a lambda operator is a case-sensitive lambda variable name followed by a colon (<code>:</code>) and a Boolean expression that uses the lambda variable name to refer to properties of the instance or of members of the collection identified by the path expression.</p>
<p>If the name chosen for the lambda variable matches a property name of the current resource referenced by the resource path, the lambda variable takes precedence. Clients can prefix properties of the current resource referenced by the resource path with <a href="#it"><code>$it</code></a>.</p>
<p>Other path expressions in the Boolean expression neither prefixed with the lambda variable nor <code>$it</code> are evaluated in the scope of the instance or of members of the collection at the origin of the path expression prepended to the lambda operator.</p>
<h5 id="511131-any"><a name="any" href="#any">5.1.1.13.1 <code>any</code></a></h5>
<p>The <code>any</code> operator applies a Boolean expression to each member of a collection and returns true if and only if the expression is true for any member of the collection, otherwise it returns false. This implies that the <code>any</code> operator always returns false for an empty collection.</p>
<p>The <code>any</code> operator can be used without an argument expression. This short form returns false if and only if the collection is empty.</p>
<div class="example">
<p>Example 99: all <code>Orders</code> that have any <code>Items</code> with a <code>Quantity</code> greater than <code>100</code></p>
<pre><code>http://host/service/Orders?$filter=Items/any(d:d/Quantity gt 100)</code></pre>
</div>
<div class="example">
<p>Example 100: all customers having an order with a deviating shipping address. The <code>Address</code> in the argument expression is evaluated in the scope of the <code>Customers</code> collection.</p>
<pre><code>http://host/service/Customers?$filter=Orders/any(o:o/ShippingAddress ne Address)</code></pre>
</div>
<div class="example">
<p>Example 101: all categories along with their products used in some order with a deviating unit price. The unprefixed <code>UnitPrice</code> in the argument expression is evaluated in the scope of the expanded <code>Products</code>.</p>
<pre><code>http://host/service/Categories?$expand=Products($filter=OrderItems/any(oi:oi/UnitPrice ne UnitPrice))</code></pre>
</div>
<h5 id="511132-all"><a name="all" href="#all">5.1.1.13.2 <code>all</code></a></h5>
<p>The <code>all</code> operator applies a Boolean expression to each member of a collection and returns true if the expression is true for all members of the collection, otherwise it returns false. This implies that the <code>all</code> operator always returns true for an empty collection.</p>
<p>The <code>all</code> operator cannot be used without an argument expression.</p>
<div class="example">
<p>Example 102: all <code>Orders</code> that have only <code>Items</code> with a <code>Quantity</code> greater than <code>100</code></p>
<pre><code>http://host/service/Orders?$filter=Items/all(d:d/Quantity gt 100)</code></pre>
</div>
<h4 id="51114-literals"><a name="Literals" href="#Literals">5.1.1.14 Literals</a></h4>
<h5 id="511141-primitive-literals"><a name="PrimitiveLiterals" href="#PrimitiveLiterals">5.1.1.14.1 Primitive Literals</a></h5>
<p>Primitive literals can appear in the resource path as key property values, and in the query part, for example, as operands in <a href="#SystemQueryOptionfilter"><code>$filter</code></a> expressions. They are represented according to the <code>primitiveLiteral</code> rule in <a href="#ODataABNF">OData-ABNF</a>.</p>
<div class="example">
<p>Example 103: expressions using primitive literals</p>
<pre><code>NullValue eq null</code></pre>
<pre><code>TrueValue eq true</code></pre>
<pre><code>FalseValue eq false</code></pre>
<pre><code>Custom.Base64UrlDecode(binary&#39;T0RhdGE&#39;) eq &#39;OData&#39;</code></pre>
<pre><code>IntegerValue lt -128</code></pre>
<pre><code>DoubleValue ge 0.31415926535897931e1</code></pre>
<pre><code>SingleValue eq INF</code></pre>
<pre><code>DecimalValue eq 34.95</code></pre>
<pre><code>StringValue eq &#39;Say Hello,then go&#39;</code></pre>
<pre><code>DateValue eq 2012-12-03</code></pre>
<pre><code>DateTimeOffsetValue eq 2012-12-03T07:16:23Z</code></pre>
<pre><code>DurationValue eq duration&#39;P12DT23H59M59.999999999999S&#39;</code></pre>
<pre><code>DurationValue eq &#39;P12DT23H59M59.999999999999S&#39;</code></pre>
<pre><code>TimeOfDayValue eq 07:59:59.999</code></pre>
<pre><code>GuidValue eq 01234567-89ab-cdef-0123-456789abcdef</code></pre>
<pre><code>Int64Value eq 0</code></pre>
<pre><code>ColorEnumValue eq Sales.Pattern&#39;Yellow&#39;</code></pre>
<pre><code>ColorEnumValue eq &#39;Yellow&#39;</code></pre>
<pre><code>geo.distance(Location,geography&#39;SRID=0;Point(142.1 64.1)&#39;)</code></pre>
</div>
<p>Duration literals in OData 4.0 required prefixing with ‚Äú<code>duration</code>‚Äù. Enumeration literals in OData 4.0 required prefixing with the qualified type name of the enumeration.</p>
<p>In OData 4.01, services MUST support duration and enumeration literals with or without the type prefix. OData clients that want to operate across OData 4.0 and OData 4.01 services should always include the prefix for duration and enumeration types.</p>
<h5 id="511142-complex-and-collection-literals"><a name="ComplexandCollectionLiterals" href="#ComplexandCollectionLiterals">5.1.1.14.2 Complex and Collection Literals</a></h5>
<p>Complex literals and collection literals in URLs are represented as JSON objects and arrays according to the <code>arrayOrObject</code> rule in <a href="#ODataABNF">OData-ABNF</a>. Such literals MUST NOT appear in the path portion of the URL but can be passed to bound <a href="#AddressingFunctions">functions</a> and function imports in path segments by using <a href="#ParameterAliases">parameter aliases</a>.</p>
<p>Object member values and array items can be expressions, including other objects and arrays, arithmetic expressions, property names, and of course primitive values.</p>
<p>Note that the special characters <code>{</code>, <code>}</code>, <code>[</code>, <code>]</code>, and <code>"</code> MUST be percent-encoded in URLs although some browsers will accept and pass them on unencoded.</p>
<div class="example">
<p>Example 104: collection of string literals</p>
<pre><code>http://host/service/ProductsByColors(colors=@c)?@c=[&quot;red&quot;,&quot;green&quot;]</code></pre>
</div>
<div class="example">
<p>Example 105: check whether a pair of properties has one of several possible pair values</p>
<pre><code>$filter=[FirstName,LastName] in [[&quot;John&quot;,&quot;Doe&quot;],[&quot;Jane&quot;,&quot;Smith&quot;]]</code></pre>
</div>
<h5 id="511143-null"><a name="null" href="#null">5.1.1.14.3 <code>null</code></a></h5>
<p>The <code>null</code> literal can be used to compare a value to null, or to pass a null value to a function.</p>
<h5 id="511144-it"><a name="it" href="#it">5.1.1.14.4 <code>$it</code></a></h5>
<p>The <code>$it</code> literal can be used in expressions to refer to the current instance of the resource identified by the resource path. For a collection-valued resource the current instance is the instance currently being evaluated by the system query option. For a single-valued resource it is the resource itself.</p>
<p>It allows comparing properties of related entities to properties of the current instance in expressions within lambda operators or in <a href="#SystemQueryOptionfilter"><code>$filter</code></a> expressions nested within <a href="#SystemQueryOptionexpand"><code>$expand</code></a> or <a href="#SystemQueryOptionselect"><code>$select</code></a>.</p>
<p>It also can be used in <a href="#SystemQueryOptionfilter"><code>$filter</code></a> and <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> expressions on collections of primitive types to refer to the current primitive instance, but using the <a href="#this"><code>$this</code></a> literal is preferred as <a href="#this"><code>$this</code></a> can also be used in <a href="#SystemQueryOptionfilter"><code>$filter</code></a> and <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> expressions nested within <a href="#SystemQueryOptionselect"><code>$select</code></a>.</p>
<p>Note: property names and property paths in <a href="#SystemQueryOptionfilter"><code>$filter</code></a> expressions nested within <a href="#SystemQueryOptionexpand"><code>$expand</code></a> are evaluated in the context of the declared type of the expanded navigation property, so property names and property paths for the current instance of the collection identified by the resource path MUST be prefixed with <code>$it/</code>.</p>
<p>The <code>$it</code> literal can also be used as a path prefix to invoke a bound function overload on the current instance within an expression. Function names without a path prefix refer to an unbound function overload.</p>
<div class="example">
<p>Example 106: email addresses ending with <code>.com</code> assuming <code>EmailAddresses</code> is a collection of strings</p>
<pre><code>http://host/service/Customers(1)/EmailAddresses?$filter=endswith($it,&#39;.com&#39;)</code></pre>
</div>
<div class="example">
<p>Example 107: customers along with their orders that shipped to the same city as the customer‚Äôs address. The nested filter expression is evaluated in the context of Orders; <code>$it</code> allows referring to values in the outer context of Customers. Note: the nested filter condition could equivalently be expressed as <code>$it/Address/City eq </code><a href="#this"><code>$this</code></a><code>/ShipTo/City</code>.</p>
<pre><code>http://host/service/Customers?$expand=Orders($filter=$it/Address/City eq ShipTo/City)</code></pre>
</div>
<div class="example">
<p>Example 108: products with at least 10 positive reviews. <code>Model.PositiveReviews</code> is a function bound to <code>Model.Product</code> returning a collection of reviews.</p>
<pre><code>http://host/service/Products?$filter=$it/Model.PositiveReviews()/$count ge 10</code></pre>
</div>
<h5 id="511145-root"><a name="root" href="#root">5.1.1.14.5 <code>$root</code></a></h5>
<p>The <code>$root</code> literal can be used in expressions to refer to resources of the same service.</p>
<div class="example">
<p>Example 109: all employees with the same last name as employee <code>A1235</code></p>
<pre><code>http://host/service/Employees?$filter=LastName eq $root/Employees(&#39;A1245&#39;)/LastName</code></pre>
</div>
<div class="example">
<p>Example 110: products ordered by a set of customers, where the set of customers is passed as a JSON array containing the resource paths from <code>$root</code> to each customer</p>
<pre><code>http://host/service/ProductsOrderedBy(Customers=@c)?@c=[$root/Customers(&#39;ALFKI&#39;),$root/Customers(&#39;BLAUS&#39;)]</code></pre>
</div>
<div class="example">
<p>Example 111: function call returning the average rating of a given employee by their peers (employees in department D1)</p>
<pre><code>http://host/service/Employees(&#39;A1245&#39;)/self.AvgRating(RatedBy=@peers)?@peers=$root/Employees/$filter(Department eq &#39;D1&#39;)</code></pre>
</div>
<h5 id="511146-this"><a name="this" href="#this">5.1.1.14.6 <code>$this</code></a></h5>
<p>The <code>$this</code> literal can be used in <a href="#SystemQueryOptionfilter"><code>$filter</code></a> and <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> expressions nested within <a href="#SystemQueryOptionexpand"><code>$expand</code></a> and <a href="#SystemQueryOptionselect"><code>$select</code></a> for collection-valued properties and navigation properties. It refers to the current instance of the collection.</p>
<div class="example">
<p>Example 112: select only email addresses ending with <code>.com</code></p>
<pre><code>http://host/service/Customers?$select=EmailAddresses($filter=endswith($this,&#39;.com&#39;))</code></pre>
</div>
<h4 id="51115-path-expressions"><a name="PathExpressions" href="#PathExpressions">5.1.1.15 Path Expressions</a></h4>
<p>Properties and navigation properties of the structured type on which a common expression is evaluated can be used as operands or function parameters, as shown in the preceding examples.</p>
<p>Properties of complex properties can be used via the same syntax as in resource paths, i.e. by specifying the name of a complex property, followed by a forward slash (<code>/</code>) and the name of a property of the complex property, and so on,</p>
<p>Properties and navigation properties of entities related with a target cardinality 0..1 or 1 can be used by specifying the navigation property, followed by a forward slash (<code>/</code>) and the name of a property of the related entity, and so on.</p>
<p>If a complex property is <code>null</code>, or no entity is related (in case of target cardinality 0..1), its value, and the values of its components, are treated as <code>null</code>.</p>
<div class="example">
<p>Example 113: similar behavior whether <code>HeadquarterAddress</code> is a nullable complex type or a nullable navigation property</p>
<pre><code>Companies(1)/HeadquarterAddress/Street</code></pre>
</div>
<p>To access properties of derived types, the property name MUST be prefixed with the qualified name of the derived type on which the property is defined, followed by a forward slash (<code>/</code>), see <a href="#AddressingDerivedTypes">addressing derived types</a>. If the current instance is not of the specified derived type, the path expression returns <code>null</code>.</p>
<p>If the property or navigation property is not defined for the type of the resource and that type supports dynamic properties or navigation properties, then the property or navigation property is treated as null for all instances on which it has no value.</p>
<p>If the property or navigation property is not defined for the type of the resource and that type does not support dynamic properties or navigation properties, then the request may be considered malformed.</p>
<h4 id="51116-annotation-values-in-expressions"><a name="AnnotationValuesinExpressions" href="#AnnotationValuesinExpressions">5.1.1.16 Annotation Values in Expressions</a></h4>
<p>Services MAY support the use of annotation values as operands or function parameters, and they MAY advertise this by annotating the entity container with term <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Capabilities.V1.md#AnnotationValuesInQuerySupported"><code>Capabilities.AnnotationValuesInQuerySupported</code></a>, see <a href="#ODataVocCap">OData-VocCap</a>.</p>
<p>Annotation values are referenced by the annotation name which consists of an at sign (<code>@</code>) followed by the qualified term name, optionally followed by a percent-encoded hash (<code>%23</code>) and an annotation qualifier. The annotation name can be prefixed with a <a href="#PathExpressions">path expression</a> leading to the annotated resource or property.</p>
<p>If an annotation is not applied to the resource or property, then its value, and the values of its components, are treated as <code>null</code>.</p>
<div class="example">
<p>Example 114: Return Products that have prices in Euro</p>
<pre><code>http://host/service/Products?$filter=Price/@Measures.Currency eq &#39;EUR&#39;</code></pre>
</div>
<div class="example">
<p>Example 115: Return Employees that have any error messages in the <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#Messages"><code>Core.Messages</code></a> annotation</p>
<pre><code>http://host/service/Employees?$filter=@Core.Messages/any(m:m/severity eq &#39;error&#39;)</code></pre>
</div>
<p>Services MAY additionally support the use of the unqualified term name by defining one or more default namespaces through the <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#DefaultNamespace"><code>Core.DefaultNamespace</code></a> annotation term defined in <a href="#ODataVocCore">OData-VocCore</a>. For more information on default namespaces, see Default Namespaces in <a href="#ODataProtocol">OData-Protocol</a>. This short notation however uses the same name pattern as parameter aliases. If a query option is specified as a <a href="#ParameterAliases">parameter alias</a>, then any occurrence of the parameter alias name in an expression MUST evaluate to the parameter alias value and MUST NOT evaluate to the annotation value of an identical unqualified term name.</p>
<h4 id="51117-operator-precedence"><a name="OperatorPrecedence" href="#OperatorPrecedence">5.1.1.17 Operator Precedence</a></h4>
<p>OData services MUST use the following operator precedence for supported operators when evaluating <a href="#SystemQueryOptionfilter"><code>$filter</code></a> and <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> expressions. Operators are listed by category in order of precedence from highest to lowest. Operators in the same category have equal precedence:</p>
<table>
<thead>
<tr class="header">
<th>Group</th>
<th>Operator</th>
<th>Description</th>
<th>ABNF Expression</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Grouping</td>
<td><code>( )</code></td>
<td>Precedence grouping</td>
<td><code>parenExpr</code><br><code>boolParenExpr</code></td>
</tr>
<tr class="even">
<td>Primary</td>
<td><code>/</code></td>
<td>Navigation</td>
<td><code>firstMemberExpr</code><br><code>memberExpr</code></td>
</tr>
<tr class="odd">
<td></td>
<td><code>has</code></td>
<td>Enumeration Flags</td>
<td><code>hasExpr</code></td>
</tr>
<tr class="even">
<td></td>
<td><code>in</code></td>
<td>Is a member of</td>
<td><code>inExpr</code></td>
</tr>
<tr class="odd">
<td></td>
<td><code>xxx( )</code></td>
<td>Method Call</td>
<td><code>methodCallExpr</code><br><code>boolMethodCallExpr</code><br><code>functionExpr</code></td>
</tr>
<tr class="even">
<td>Unary</td>
<td><code>-</code></td>
<td>Negation</td>
<td><code>negateExpr</code></td>
</tr>
<tr class="odd">
<td></td>
<td><code>not</code></td>
<td>Logical Negation</td>
<td><code>notExpr</code></td>
</tr>
<tr class="even">
<td></td>
<td><code>cast( )</code></td>
<td>Type Casting</td>
<td><code>castExpr</code></td>
</tr>
<tr class="odd">
<td>Multiplicative</td>
<td><code>mul</code></td>
<td>Multiplication</td>
<td><code>mulExpr</code></td>
</tr>
<tr class="even">
<td></td>
<td><code>div</code></td>
<td>Division</td>
<td><code>divExpr</code></td>
</tr>
<tr class="odd">
<td></td>
<td><code>divby</code></td>
<td>Decimal Division</td>
<td><code>divbyExpr</code></td>
</tr>
<tr class="even">
<td></td>
<td><code>mod</code></td>
<td>Modulo</td>
<td><code>modExpr</code></td>
</tr>
<tr class="odd">
<td>Additive</td>
<td><code>add</code></td>
<td>Addition</td>
<td><code>addExpr</code></td>
</tr>
<tr class="even">
<td></td>
<td><code>sub</code></td>
<td>Subtraction</td>
<td><code>subExpr</code></td>
</tr>
<tr class="odd">
<td>Relational</td>
<td><code>gt</code></td>
<td>Greater Than</td>
<td><code>gtExpr</code></td>
</tr>
<tr class="even">
<td></td>
<td><code>ge</code></td>
<td>Greater than or Equal</td>
<td><code>geExpr</code></td>
</tr>
<tr class="odd">
<td></td>
<td><code>lt</code></td>
<td>Less Than</td>
<td><code>ltExpr</code></td>
</tr>
<tr class="even">
<td></td>
<td><code>le</code></td>
<td>Less than or Equal</td>
<td><code>leExpr</code></td>
</tr>
<tr class="odd">
<td></td>
<td><code>isof</code></td>
<td>Type Testing</td>
<td><code>isofExpr</code></td>
</tr>
<tr class="even">
<td>Equality</td>
<td><code>eq</code></td>
<td>Equal</td>
<td><code>eqExpr</code></td>
</tr>
<tr class="odd">
<td></td>
<td><code>ne</code></td>
<td>Not Equal</td>
<td><code>neExpr</code></td>
</tr>
<tr class="even">
<td>Conditional AND</td>
<td><code>and</code></td>
<td>Logical And</td>
<td><code>andExpr</code></td>
</tr>
<tr class="odd">
<td>Conditional OR</td>
<td><code>or</code></td>
<td>Logical Or</td>
<td><code>orExpr</code></td>
</tr>
</tbody>
</table>
<h4 id="51118-numeric-promotion"><a name="NumericPromotion" href="#NumericPromotion">5.1.1.18 Numeric Promotion</a></h4>
<p>Services SHOULD NOT require explicit cast operations between numeric types used in comparison expressions. Wherever possible, such comparisons should be performed using underlying types of sufficient size.</p>
<p>Services MAY support numeric promotion for arithmetic operations or when comparing two operands of comparable types by applying the following rules, in order:</p>
<ul>
<li>If either operand is <code>Edm.Double</code>, the other operand is converted to type <code>Edm.Double</code>.</li>
<li>Otherwise, if either operand is <code>Edm.Single</code>, the other operand is converted to type <code>Edm.Single</code>.</li>
<li>Otherwise, if either operand is of type <code>Edm.Decimal</code>, the other operand is converted to <code>Edm.Decimal</code>.</li>
<li>Otherwise, if either operand is <code>Edm.Int64</code>, the other operand is converted to type <code>Edm.Int64</code>.</li>
<li>Otherwise, if either operand is <code>Edm.Int32</code>, the other operand is converted to type <code>Edm.Int32</code>.</li>
<li>Otherwise, if either operand is <code>Edm.Int16</code>, the other operand is converted to type <code>Edm.Int16</code>.</li>
</ul>
<p>Each of these promotions uses the same semantics as a <code>castExpression</code> to promote an operand to the target type.</p>
<p>OData does not define an implicit conversion between string and numeric types.</p>
<h3 id="512-system-query-option-filter"><a name="SystemQueryOptionfilter" href="#SystemQueryOptionfilter">5.1.2 System Query Option <code>$filter</code></a></h3>
<p>The <code>$filter</code> system query option allows clients to filter a collection of resources that are addressed by a request URL. The expression specified with <code>$filter</code> is evaluated for each resource in the collection, and only items where the expression evaluates to true are included in the response. Resources for which the expression evaluates to false or to null, or which reference properties that are unavailable due to permissions, are omitted from the response.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>filter</code> syntax rule defines the formal grammar of the <code>$filter</code> query option.</p>
<h3 id="513-system-query-option-expand"><a name="SystemQueryOptionexpand" href="#SystemQueryOptionexpand">5.1.3 System Query Option <code>$expand</code></a></h3>
<p>The <code>$expand</code> system query option specifies the related resources or media streams to be included in line with retrieved resources.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>expand</code> syntax rule defines the formal grammar of the <code>$expand</code> query option.</p>
<p>The value of <code>$expand</code> is a comma-separated list of expand items. Each expand item is evaluated relative to the retrieved resource being expanded. An expand item is either a path or one of the symbols <code>*</code> or <code>$value</code>.</p>
<p>A path consists of segments separated by a forward slash (<code>/</code>). Segments are either names of single- or collection-valued complex properties, <a href="#AnnotationValuesinExpressions">instance annotations</a>, or <a href="#AddressingDerivedTypes">type-cast segments</a> consisting of the qualified name of a structured type that is derived from the type identified by the preceding path segment to reach properties defined on the derived type.</p>
<p>A path can end with</p>
<ul>
<li>the name of a stream property to include that stream property,</li>
<li>a star (<code>*</code>) to expand all navigation properties of the identified instances of a structured type, optionally followed by <code>/$ref</code> to expand only entity references, or</li>
<li>a navigation property to expand the related entity or entities, optionally followed by a <a href="#AddressingDerivedTypes">type-cast segment</a> to expand only related entities of that derived type or one of its sub-types, optionally followed by <code>/$ref</code> to expand only entity references.</li>
<li>an entity-valued instance annotation to expand the related entity or entities, optionally followed by a <a href="#AddressingDerivedTypes">type-cast segment</a> to expand only related entities of that derived type or one of its sub-types.</li>
</ul>
<p>If a structured type traversed by the path supports neither dynamic properties nor instance annotations, then a corresponding property segment MUST specify a declared property of that structured type. Otherwise, if a traversed type does support dynamic navigation properties or instance annotations and the corresponding property segment does not specify a declared property, then the expanded property appears only for those instances on which it has a value.</p>
<div class="example">
<p>Example 116: expand a navigation property of an entity type</p>
<pre><code>http://host/service/Products?$expand=Category</code></pre>
</div>
<div class="example">
<p>Example 117: expand a navigation property of a complex type</p>
<pre><code>http://host/service/Customers?$expand=Addresses/Country</code></pre>
</div>
<p>A path MUST NOT appear in more than one expand item.</p>
<p>Query options can be applied to an expanded navigation property by appending a semicolon-separated list of query options, enclosed in parentheses, to the navigation property name. Allowed system query options are <a href="#SystemQueryOptioncompute"><code>$compute</code></a>, <a href="#SystemQueryOptionselect"><code>$select</code></a>, <code>$expand</code>, and <a href="#ExpandOptionlevels"><code>$levels</code></a> for all navigation properties, plus <a href="#SystemQueryOptionfilter"><code>$filter</code></a>, <a href="#SystemQueryOptionorderby"><code>$orderby</code></a>, <a href="#SystemQueryOptionstopandskip"><code>$skip</code></a>, <a href="#SystemQueryOptionstopandskip"><code>$top</code></a>, <a href="#SystemQueryOptioncount"><code>$count</code></a>, and <a href="#SystemQueryOptionsearch"><code>$search</code></a> for collection-valued navigation properties.</p>
<div class="example">
<p>Example 118: all categories and for each category all related products with a discontinued date equal to <code>null</code></p>
<pre><code>http://host/service/Categories?$expand=Products($filter=DiscontinuedDate eq null)</code></pre>
</div>
<p>The <code>$count</code> segment can be appended to a navigation property name or <a href="#AddressingDerivedTypes">type-cast segment</a> following a navigation property name to return just the count of the related entities. The <code>$filter</code> and <code>$search</code> system query options can be used to limit the number of related entities included in the count.</p>
<div class="example">
<p>Example 119: all categories and for each category the number of all related products</p>
<pre><code>http://host/service/Categories?$expand=Products/$count</code></pre>
</div>
<div class="example">
<p>Example 120: all categories and for each category the number of all related blue products</p>
<pre><code>http://host/service/Categories?$expand=Products/$count($search=blue)</code></pre>
</div>
<p>To retrieve entity references instead of the related entities, append <code>/$ref</code> to the navigation property name or <a href="#AddressingDerivedTypes">type-cast segment</a> following a navigation property name. The system query options <a href="#SystemQueryOptionfilter"><code>$filter</code></a>, <a href="#SystemQueryOptionsearch"><code>$search</code></a>, <a href="#SystemQueryOptionstopandskip"><code>$skip</code></a>, <a href="#SystemQueryOptionstopandskip"><code>$top</code></a>, and <a href="#SystemQueryOptioncount"><code>$count</code></a> can be used to limit the number of expanded entity references.</p>
<div class="example">
<p>Example 121: all categories and for each category the references of all related products</p>
<pre><code>http://host/service/Categories?$expand=Products/$ref</code></pre>
</div>
<div class="example">
<p>Example 122: all categories and for each category the references of all related products of the derived type <code>Sales.PremierProduct</code></p>
<pre><code>http://host/service/Categories?$expand=Products/Sales.PremierProduct/$ref</code></pre>
</div>
<div class="example">
<p>Example 123: all categories and for each category the references of all related premier products with a current promotion equal to <code>null</code></p>
<pre><code>http://host/service/Categories?$expand=Products/Sales.PremierProduct/$ref($filter=CurrentPromotion eq null)</code></pre>
</div>
<p><a name="ExpandOptionlevels">Cyclic navigation properties (whose target type is identical or can be cast to its source type) can be recursively expanded using the special <code>$levels</code> option. The value of the <code>$levels</code> option is either a positive integer to specify the number of levels to expand, or the literal string <code>max</code> to specify the maximum expansion level supported by that service. A <code>$levels</code> option with a value of 1 specifies a single expand with no recursion.</a></p>
<div class="example">
<p>Example 124: all employees with their manager, manager‚Äôs manager, and manager‚Äôs manager‚Äôs manager</p>
<pre><code>http://host/service/Employees?$expand=ReportsTo($levels=3)</code></pre>
</div>
<p>It is also possible to expand all declared and dynamic navigation properties using a star (<code>*</code>). To retrieve references to all related entities use <code>*/$ref</code>, and to expand all related entities with a certain distance use the star operator with the <code>$levels</code> option. The star operator can be combined with explicitly named navigation properties, which take precedence over the star operator.</p>
<p>The star operator does not implicitly include stream properties.</p>
<div class="example">
<p>Example 125: expand <code>Supplier</code> and include references for all other related entities</p>
<pre><code>http://host/service/Categories?$expand=*/$ref,Supplier</code></pre>
</div>
<div class="example">
<p>Example 126: expand all related entities and their related entities</p>
<pre><code>http://host/service/Categories?$expand=*($levels=2)</code></pre>
</div>
<p>Specifying a stream property includes the media stream inline according to the specified format.</p>
<div class="example">
<p>Example 127: include Employee‚Äôs <code>Photo</code> stream property along with other properties of the customer</p>
<pre><code>http://host/service/Employees?$expand=Photo</code></pre>
</div>
<p>Specifying <code>$value</code> for a media entity includes the media entity‚Äôs stream value inline according to the specified format.</p>
<div class="example">
<p>Example 128: Include the Product‚Äôs media stream along with other properties of the product</p>
<pre><code>http://host/service/Products?$expand=$value</code></pre>
</div>
<h3 id="514-system-query-option-select"><a name="SystemQueryOptionselect" href="#SystemQueryOptionselect">5.1.4 System Query Option <code>$select</code></a></h3>
<p>The <code>$select</code> system query option allows clients to request a specific set of properties for each entity or complex type.</p>
<p>The <code>$select</code> query option is often used in conjunction with the <a href="#SystemQueryOptionexpand"><code>$expand</code></a> system query option, to define the extent of the resource graph to return (<code>$expand</code>) and then specify a subset of properties for each resource in the graph (<code>$select</code>). Expanded navigation properties MUST be returned, even if they are not specified in <code>$select</code>.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>select</code> syntax rule defines the formal grammar of the <code>$select</code> query option.</p>
<p>The value of <code>$select</code> is a comma-separated list of select items. Each select item is one of the following:</p>
<ul>
<li>a path, to include a property,</li>
<li>a star (<code>*</code>), to include all declared or dynamic properties of the type, or</li>
<li>a qualified schema name followed by a dot (<code>.</code>) followed by a star (<code>*</code>) to request all applicable actions or functions from that schema</li>
</ul>
<p>A path consists of segments separated by a forward slash (<code>/</code>). Segments are either names of single- or collection-valued complex properties, <a href="#AnnotationValuesinExpressions">instance annotations</a>, or <a href="#AddressingDerivedTypes">type-cast segments</a> consisting of the qualified name of a structured type that is derived from the type identified by the preceding path segment to reach properties defined on the derived type.</p>
<p>A path can end with</p>
<ul>
<li>the name of a property or non-entity-valued instance annotation of the identified instance of a structured type,</li>
<li>the qualified name of a bound action,</li>
<li>the qualified name of a bound function to include all matching overloads, or</li>
<li>the qualified name of a bound function followed by parentheses containing the comma-separated lists of non-binding parameters identifying a single overload.</li>
</ul>
<p>The <code>$select</code> system query option is interpreted relative to the entity type or complex type of the resources identified by the resource path section of the URL. Each select item in the <code>$select</code> clause indicates that the response MUST include the declared or dynamic properties, actions and functions identified by that select item. If a select item is a path expression traversing an entity or complex property that is <code>null</code> on an instance, then the null-valued entity or complex property is included and represented as <code>null</code>. The simplest form of a select item explicitly requests a property defined on the entity type of the resources identified by the resource path section of the URL.</p>
<div class="example">
<p>Example 129: rating and release date of all products</p>
<pre><code>http://host/service/Products?$select=Rating,ReleaseDate</code></pre>
</div>
<p>It is also possible to request all declared and dynamic structural properties using a star (<code>*</code>).</p>
<div class="example">
<p>Example 130: all structural properties of all products</p>
<pre><code>http://host/service/Products?$select=*</code></pre>
</div>
<p>If the select item is not defined for the type of the resource, and that type supports dynamic properties or instance annotations, then the property is treated as null for all instances on which it is not defined.</p>
<p>If the select item is not defined for the type of the resource, and that type does not support dynamic properties or instance annotations, then the request is considered malformed.</p>
<p>If the select item is an instance annotation of type entity or collection of entities, then the request is considered malformed. Entity-valued annotations can be included using <a href="#SystemQueryOptionexpand"><code>$expand</code></a>.</p>
<p>If the select item is a navigation property, then the corresponding navigation link is represented in the response. If the navigation property also appears in an <a href="#SystemQueryOptionexpand"><code>$expand</code></a> query option, then it is additionally represented as inline content. This inline content can itself be restricted with a nested <code>$select</code> query option, see <a href="#SystemQueryOptionfilter">section 5.1.2</a>.</p>
<div class="example">
<p>Example 131: name and description of all products, plus name of expanded category</p>
<pre><code>http://host/service/Products?$select=Name,Description&amp;$expand=Category($select=Name)</code></pre>
</div>
<p>The select item MUST be prefixed with a qualified structured type name in order to select a property defined on a type derived from the type of the resource segment.</p>
<p>A select item that is a complex type or collection of complex type can be followed by a forward slash, an optional <a href="#AddressingDerivedTypes">type-cast segment</a>, and the name of a property of the complex type (and so on for nested complex types).</p>
<div class="example">
<p>Example 132: the <code>AccountRepresentative</code> property of any supplier that is of the derived type <code>Namespace.PreferredSupplier</code>, together with the <code>Street</code> property of the complex property <code>Address</code>, and the Location property of the derived complex type <code>Namespace.AddressWithLocation</code></p>
<pre><code>http://host/service/Suppliers?$select=Namespace.PreferredSupplier/AccountRepresentative,Address/Street,Address/Namespace.AddressWithLocation/Location</code></pre>
</div>
<p>Query options can be applied to a select item that is a path to a single complex value or a collection of primitive or complex values by appending a semicolon-separated list of query options, enclosed in parentheses, to the select item. The allowed system query options depend on the type of the resource identified by the select item, see section <a href="#SystemQueryOptions">System Query Options</a>, with the exception of <a href="#SystemQueryOptionexpand"><code>$expand</code></a>. The same property MUST NOT have select options specified in more than one place in a request and MUST NOT be specified in more than one expand.</p>
<div class="example">
<p>Example 133: select up to five addresses whose <code>City</code> starts with an <code>H</code>, sorted, and with the <code>Country</code> expanded</p>
<pre><code>http://host/service/Customers?$select=Addresses($filter=startswith(City,&#39;H&#39;);$top=5;$orderby=Country/Name,City,Street)&amp;$expand=Addresses/Country</code></pre>
</div>
<p>Any structural property, non-expanded navigation property, or operation not requested as a select item (explicitly or via a star) SHOULD be omitted from the response.</p>
<p>Annotations requested in <code>$select</code> MUST be included in the response; <code>$select</code> overrules the <code>include-annotations</code> preference (see <a href="#ODataProtocol">OData-Protocol</a>) for the explicitly requested annotations. Additional annotations matching the preference can be included even if not requested via <code>$select</code>. The <code>Preference-Applied</code> response header only reflects the set of annotations included due to the <code>include-annotations</code> preference and not those only included due to <code>$select</code>.</p>
<p>If any select item (including a star) is specified, actions and functions SHOULD be omitted unless explicitly requested.</p>
<p>If an action or function is requested as a select item, either explicitly by using its qualified name, or implicitly by requesting all operations in a schema, then the service includes information about how to invoke that operation for each entity identified by the last path segment in the request URL for which the operation can be bound.</p>
<p>If an action or function is requested in a select item using its qualified name and that operation cannot be bound to the entities requested, the service MUST ignore the select item.</p>
<div class="example">
<p>Example 134: the <code>ID</code> property, the <code>ActionName</code> action defined in <code>Model</code> and all actions and functions defined in the <code>Model2</code> for each product if those actions and functions can be bound to that product</p>
<pre><code>http://host/service/Products?$select=ID,Model.ActionName,Model2.*</code></pre>
</div>
<p>When multiple select item exist in a <code>$select</code> clause, then the total set of properties, open properties, navigation properties, actions and functions to be returned is equal to the union of the set of those identified by each select item.</p>
<h3 id="515-system-query-option-orderby"><a name="SystemQueryOptionorderby" href="#SystemQueryOptionorderby">5.1.5 System Query Option <code>$orderby</code></a></h3>
<p>The <code>$orderby</code> system query option allows clients to request resources in a particular order.</p>
<p>The semantics of <code>$orderby</code> are covered in the <a href="#ODataProtocol">OData-Protocol</a> document.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>orderby</code> syntax rule defines the formal grammar of the <code>$orderby</code> query option.</p>
<h3 id="516-system-query-options-top-and-skip"><a name="SystemQueryOptionstopandskip" href="#SystemQueryOptionstopandskip">5.1.6 System Query Options <code>$top</code> and <code>$skip</code></a></h3>
<p>The <code>$top</code> system query option requests the number of items in the queried collection to be included in the result. The <code>$skip</code> query option requests the number of items in the queried collection that are to be skipped and not included in the result. A client can request a particular page of items by combining <code>$top</code> and <code>$skip</code>.</p>
<p>The semantics of <code>$top</code> and <code>$skip</code> are covered in the <a href="#ODataProtocol">OData-Protocol</a> document. The <a href="#ODataABNF">OData-ABNF</a> <code>top</code> and <code>skip</code> syntax rules define the formal grammar of the <code>$top</code> and <code>$skip</code> query options respectively.</p>
<h3 id="517-system-query-option-count"><a name="SystemQueryOptioncount" href="#SystemQueryOptioncount">5.1.7 System Query Option <code>$count</code></a></h3>
<p>The <code>$count</code> system query option allows clients to request a count of the matching resources included with the resources in the response. The <code>$count</code> query option has a Boolean value of <code>true</code> or <code>false</code>.</p>
<p>The semantics of <code>$count</code> is covered in the <a href="#ODataProtocol">OData-Protocol</a> document.</p>
<h3 id="518-system-query-option-search"><a name="SystemQueryOptionsearch" href="#SystemQueryOptionsearch">5.1.8 System Query Option <code>$search</code></a></h3>
<p>The <code>$search</code> system query option allows clients to request items within a collection matching a free-text <a href="#SearchExpressions">search expression</a>.</p>
<p>The <code>$search</code> query option can be applied to a URL representing a collection of entity, complex, or primitive typed instances, to return all matching items within the collection. Applying the <code>$search</code> query option to the <a href="#AddressingAllEntitiesinaService"><code>$all</code></a> resource requests all matching entities in the service.</p>
<p>If both <code>$search</code> and <a href="#SystemQueryOptionfilter"><code>$filter</code></a> are applied to the same request, the results include only those items that match both criteria.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>search</code> syntax rule defines the formal grammar of the <code>$search</code> query option.</p>
<div class="example">
<p>Example 135: all products that are blue or green. It is up to the service to decide what makes a product blue or green.</p>
<pre><code>http://host/service/Products?$search=blue OR green</code></pre>
</div>
<h4 id="5181-search-expressions"><a name="SearchExpressions" href="#SearchExpressions">5.1.8.1 Search Expressions</a></h4>
<p>Search expressions are used within the <a href="#SystemQueryOptionsearch"><code>$search</code></a> system query option to request entities matching the specified expression. Leading and trailing spaces are not considered part of the search expression.</p>
<p><em>Terms</em> can be any single word to be matched within the expression.</p>
<p>Terms enclosed in double-quotes comprise a <em>phrase</em>.</p>
<p>Each individual term or phrase comprises a Boolean expression that returns true if the term or phrase is matched, otherwise false. The semantics of what is considered a match is dependent upon the service.</p>
<p>Expressions enclosed in parenthesis comprise a <em>group expression</em>.</p>
<p>The search expression can contain any number of terms, phrases, or group expressions, along with the case-sensitive keywords <code>NOT</code>, <code>AND</code>, and <code>OR</code>, evaluated in that order.</p>
<p>Expressions prefaced with <code>NOT</code> evaluate to true if the expression is not matched, otherwise false.</p>
<p>Two expressions not enclosed in quotes and separated by a space are equivalent to the same two expressions separated by the <code>AND</code> keyword. Such expressions evaluate to <code>true</code> if both expressions evaluate to true, otherwise false.</p>
<p>Expressions separated by an <code>OR</code> evaluate to true if either of the expressions evaluate to true, otherwise false.</p>
<p>To support type-ahead use cases, incomplete search expressions can be sent as OData string literals enclosed in single-quotes, and single-quotes within the search expression doubled. Such an expression can also be used to search for double quotes: <code>?$search='"'</code>.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>searchExpr</code> syntax rule defines the formal grammar of the search expression.</p>
<h3 id="519-system-query-option-format"><a name="SystemQueryOptionformat" href="#SystemQueryOptionformat">5.1.9 System Query Option <code>$format</code></a></h3>
<p>The <code>$format</code> system query option allows clients to request a response in a particular format and is useful for clients without access to request headers for standard content-type negotiation. Where present <code>$format</code> takes precedence over standard content-type negotiation.</p>
<p>The semantics of <code>$format</code> is covered in the <a href="#ODataProtocol">OData-Protocol</a> document.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>format</code> syntax rule defines the formal grammar of the <code>$format</code> query option.</p>
<h3 id="5110-system-query-option-compute"><a name="SystemQueryOptioncompute" href="#SystemQueryOptioncompute">5.1.10 System Query Option <code>$compute</code></a></h3>
<p>The <code>$compute</code> system query option allows clients to define computed properties that can be used in a <a href="#SystemQueryOptionselect"><code>$select</code></a> or within a <a href="#SystemQueryOptionfilter"><code>$filter</code></a> or <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> expression.</p>
<p>The <code>$compute</code> system query option is interpreted relative to the entity type or complex type of the resources identified by the resource path section of the URL.</p>
<p>The value of <code>$compute</code> is a comma-separated list of compute instructions, each consisting of a <a href="#CommonExpressionSyntax">common expression</a> followed by the keyword <code>as</code>, followed by the name for the computed dynamic property. This name MUST differ from the names of declared or dynamic properties of the identified resources. Services MAY support compute instructions that address dynamic properties added by other compute instructions within the same <code>$compute</code> system query option, provided that the service can determine an evaluation sequence.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>compute</code> syntax rule defines the formal grammar of the <code>$compute</code> query option.</p>
<p>Computed properties SHOULD be included as dynamic properties in the result and MUST be included if <code>$select</code> is specified with the computed property name, or star (<code>*</code>).</p>
<div class="example">
<p>Example 136: compute total price for order items</p>
<pre><code>http://host/service/Orders(10)/Items
  ?$select=Product/Description,Total
  &amp;$filter=Total gt 100
  &amp;$orderby=Total
  &amp;$compute=Product/Price mul Quantity as Total</code></pre>
</div>
<h3 id="5111-system-query-option-index"><a name="SystemQueryOptionindex" href="#SystemQueryOptionindex">5.1.11 System Query Option <code>$index</code></a></h3>
<p>The <code>$index</code> system query option allows clients to do a positional insert into a collection annotated with the <a href="https://github.com/oasis-tcs/odata-vocabularies/blob/master/vocabularies/Org.OData.Core.V1.md#PositionalInsert"><code>Core.PositionalInsert</code></a> term (see <a href="#ODataVocCore">OData-VocCore</a>). The value of the <code>$index</code> system query option is the zero-based ordinal position where the item is to be inserted. The ordinal of items within the collection greater than or equal to the inserted position are increased by one. A negative ordinal indexes from the end of the collection, with -1 representing an insert at the end of the collection.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>index</code> syntax rule defines the formal grammar of the <code>$index</code> query option.</p>
<h3 id="5112-system-query-option-schemaversion"><a name="SystemQueryOptionschemaversion" href="#SystemQueryOptionschemaversion">5.1.12 System Query Option <code>$schemaversion</code></a></h3>
<p>The <code>$schemaversion</code> system query option allows clients to specify the version of the schema against which the request is made. The semantics of <code>$schemaversion</code> is covered in the <a href="#ODataProtocol">OData-Protocol</a> document.</p>
<p>The <a href="#ODataABNF">OData-ABNF</a> <code>schemaversion</code> syntax rule defines the formal grammar of the <code>$schemaversion</code> query option</p>
<h2 id="52-custom-query-options"><a name="CustomQueryOptions" href="#CustomQueryOptions">5.2 Custom Query Options</a></h2>
<p>Custom query options provide an extensible mechanism for service-specific information to be placed in a URL query string. A custom query option is any query option of the form shown by the rule <code>customQueryOption</code> in <a href="#ODataABNF">OData-ABNF</a>.</p>
<p>Custom query options MUST NOT begin with a <code>$</code> or <code>@</code> character.</p>
<div class="example">
<p>Example 137: service-specific custom query option <code>debug-mode</code></p>
<pre><code>http://host/service/Products?debug-mode=true</code></pre>
</div>
<h2 id="53-parameter-aliases"><a name="ParameterAliases" href="#ParameterAliases">5.3 Parameter Aliases</a></h2>
<p>Parameter aliases can be used in place of literal values in entity keys, <a href="#AddressingFunctions">function</a> parameters, or within a <a href="#SystemQueryOptionfilter"><code>$filter</code></a> or <a href="#SystemQueryOptionorderby"><code>$orderby</code></a> expression.</p>
<p>Parameter aliases MUST start with an <code>@</code> character, see rule <code>parameterAlias</code> in <a href="#ODataABNF">OData-ABNF</a>.</p>
<p>The semantics of parameter aliases are covered in <a href="#ODataProtocol">OData-Protocol</a>. The <a href="#ODataABNF">OData-ABNF</a> rule <code>aliasAndValue</code> defines the formal grammar for passing parameter alias values as query options.</p>
<div class="example">
<p>Example 138:</p>
<pre><code>http://host/service/Movies?$filter=contains(@word,Title)&amp;@word=&#39;Black&#39;</code></pre>
</div>
<div class="example">
<p>Example 139:</p>
<pre><code>http://host/service/Movies?$filter=Title eq @title&amp;@title=&#39;Wizard of Oz&#39;</code></pre>
</div>
<div class="example">
<p>Example 140: JSON array of strings as parameter alias value ‚Äî note that <code>[</code>, <code>]</code>, and <code>"</code> need to be percent-encoded in real URLs, the clear-text representation used here is just for readability</p>
<pre><code>http://host/service/Products/Model.WithIngredients(Ingredients=@i)?@i=[&quot;Carrots&quot;,&quot;Ginger&quot;,&quot;Oranges&quot;]</code></pre>
</div>
<hr />
<h1 id="6-conformance"><a name="Conformance" href="#Conformance">6 Conformance</a></h1>
<p>The conformance requirements for OData clients and services are described in <a href="#ODataProtocol">OData-Protocol</a>.</p>
<hr />
<h1 id="appendix-a-references"><a name="References" href="#References">Appendix A. References</a></h1>
<p>This appendix contains the normative and informative references that are used in this document.</p>
<p>While any hyperlinks included in this appendix were valid at the time of publication, OASIS cannot guarantee their long-term validity.</p>
<h2 id="a1-normative-references"><a name="NormativeReferences" href="#NormativeReferences">A.1 Normative References</a></h2>
<p>The following documents are referenced in such a way that some or all of their content constitutes requirements of this document.</p>
<h6 id="odata-abnf"><a name="ODataABNF">[OData-ABNF]</a></h6>
<p><em>ABNF components: OData ABNF Construction Rules Version 4.02 and OData ABNF Test Cases.</em><br />
See link in ‚Äú<a href="#RelatedWork">Related work</a>‚Äù section on cover page.</p>
<h6 id="odata-csdl"><a name="ODataCSDL">[OData-CSDL]</a></h6>
<p><em>OData Common Schema Definition Language (CSDL) JSON Representation Version 4.02.</em><br />
See link in ‚Äú<a href="#RelatedWork">Related work</a>‚Äù section on cover page.</p>
<p><em>OData Common Schema Definition Language (CSDL) XML Representation Version 4.02.</em><br />
See link in ‚Äú<a href="#RelatedWork">Related work</a>‚Äù section on cover page.</p>
<h6 id="odata-json"><a name="ODataJSON">[OData-JSON]</a></h6>
<p><em>OData JSON Format Version 4.02.</em><br />
See link in ‚Äú<a href="#RelatedWork">Related work</a>‚Äù section on cover page.</p>
<h6 id="odata-protocol"><a name="ODataProtocol">[OData-Protocol]</a></h6>
<p><em>OData Version 4.02. Part 1: Protocol.</em><br />
See link in ‚Äú<a href="#RelatedWork">Related work</a>‚Äù section on cover page.</p>
<h6 id="odata-voccap"><a name="ODataVocCap">[OData-VocCap]</a></h6>
<p><em>OData Vocabularies Version 4.0: Capabilities Vocabulary.</em><br />
See link in ‚Äú<a href="#RelatedWork">Related work</a>‚Äù section on cover page.</p>
<h6 id="odata-voccore"><a name="ODataVocCore">[OData-VocCore]</a></h6>
<p><em>OData Vocabularies Version 4.0: Core Vocabulary.</em><br />
See link in ‚Äú<a href="#RelatedWork">Related work</a>‚Äù section on cover page.</p>
<h6 id="rfc2119"><a name="rfc2119">[RFC2119]</a></h6>
<p><em>Bradner, S., ‚ÄúKey words for use in RFCs to Indicate Requirement Levels‚Äù, BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997</em>. <a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>.</p>
<h6 id="rfc3986"><a name="rfc3986">[RFC3986]</a></h6>
<p><em>Berners-Lee, T., Fielding, R., and L. Masinter, ‚ÄúUniform Resource Identifier (URI): Generic Syntax‚Äù, STD 66, RFC 3986, DOI 10.17487/RFC3986, January 2005</em>. <a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>.</p>
<h6 id="rfc8174"><a name="rfc8174">[RFC8174]</a></h6>
<p><em>Leiba, B., ‚ÄúAmbiguity of Uppercase vs Lowercase in RFC 2119 Key Words‚Äù, BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017</em>. <a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>.</p>
<h6 id="xml-schema-2"><a name="XML-Schema2">[XML-Schema-2]</a></h6>
<p><em>W3C XML Schema Definition Language (XSD) 1.1 Part 2: Datatypes</em>. D. Peterson, S. Gao, C. M. Sperberg-McQueen, H. S. Thompson, P. V. Biron, A. Malhotra, Editors, W3C Recommendation, 5 April 2012.<br />
<a href="http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/">http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/</a>. Latest version available at <a href="http://www.w3.org/TR/xmlschema11-2/">http://www.w3.org/TR/xmlschema11-2/</a>.</p>
<h2 id="a2-informative-references"><a name="InformativeReferences" href="#InformativeReferences">A.2 Informative References</a></h2>
<h6 id="ecmascript"><a name="_ECMAScript">[ECMAScript]</a></h6>
<p><em>ECMAScript 2023 Language Specification, 14th Edition</em>, June 2023. Standard ECMA-262. <a href="https://www.ecma-international.org/publications-and-standards/standards/ecma-262/">https://www.ecma-international.org/publications-and-standards/standards/ecma-262/</a>.</p>
<h6 id="well-known-text"><a name="_WKT">[Well-Known Text]</a></h6>
<p><em>OpenGIS Implementation Specification for Geographic information ‚Äì Simple feature access ‚Äì Part 1: Common architecture</em>, May 2011. Open Geospatial Consortium. <a href="https://www.ogc.org/standard/sfa/">https://www.ogc.org/standard/sfa/</a>.</p>
<!-- TODO:
-------

# <a name="SafetySecurityandPrivacyConsiderations" href="#SafetySecurityandPrivacyConsiderations">Appendix B. Safety, Security and Privacy Considerations</a>

do we have considerations specific to URLs, for example length, encoding, privacy (use $batch if in doubt), ...?
-->

<hr />
<h1 id="appendix-c-acknowledgments"><a name="Acknowledgments" href="#Acknowledgments">Appendix C. Acknowledgments</a></h1>
<h2 id="c1-participants"><a name="Participants" href="#Participants">C.1 Participants</a></h2>
<p><strong>OData TC Members:</strong></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">First Name</th>
<th style="text-align: left;">Last Name</th>
<th style="text-align: left;">Company</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">George</td>
<td style="text-align: left;">Ericson</td>
<td style="text-align: left;">Dell</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hubert</td>
<td style="text-align: left;">Heijkers</td>
<td style="text-align: left;">IBM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ling</td>
<td style="text-align: left;">Jin</td>
<td style="text-align: left;">IBM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Stefan</td>
<td style="text-align: left;">Hagen</td>
<td style="text-align: left;">Individual</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Michael</td>
<td style="text-align: left;">Pizzo</td>
<td style="text-align: left;">Microsoft</td>
</tr>
<tr class="even">
<td style="text-align: left;">Christof</td>
<td style="text-align: left;">Sprenger</td>
<td style="text-align: left;">Microsoft</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Ralf</td>
<td style="text-align: left;">Handl</td>
<td style="text-align: left;">SAP SE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gerald</td>
<td style="text-align: left;">Krause</td>
<td style="text-align: left;">SAP SE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Heiko</td>
<td style="text-align: left;">Thei√üen</td>
<td style="text-align: left;">SAP SE</td>
</tr>
</tbody>
</table>
<hr />
<h1 id="appendix-d-revision-history"><a name="RevisionHistory" href="#RevisionHistory">Appendix D. Revision History</a></h1>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Revision</th>
<th style="text-align: left;">Date</th>
<th style="text-align: left;">Editor</th>
<th style="text-align: left;">Changes Made</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Committee Specification Draft 01</td>
<td style="text-align: left;">2024-02-28</td>
<td style="text-align: left;">Michael Pizzo<br>Ralf Handl<br>Heiko Thei√üen</td>
<td style="text-align: left;">Import material from OData Version 4.01 Part 2: URL Conventions <br>Changes listed in <a href="#ChangesfromEarlierVersions">section 1.1</a></td>
</tr>
</tbody>
</table>
<hr />
<h1 id="appendix-e-notices"><a name="Notices" href="#Notices">Appendix E. Notices</a></h1>
<!-- Required section. Do not modify. -->

<p>Copyright ¬© OASIS Open 2024. All Rights Reserved.</p>
<p>All capitalized terms in the following text have the meanings assigned to them in the OASIS Intellectual Property Rights Policy (the ‚ÄúOASIS IPR Policy‚Äù). The full <a href="https://www.oasis-open.org/policies-guidelines/ipr/">Policy</a> may be found at the OASIS website.</p>
<p>This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this section are included on all such copies and derivative works. However, this document itself may not be modified in any way, including by removing the copyright notice or references to OASIS, except as needed for the purpose of developing any document or deliverable produced by an OASIS Technical Committee (in which case the rules applicable to copyrights, as set forth in the OASIS IPR Policy, must be followed) or as required to translate it into languages other than English.</p>
<p>The limited permissions granted above are perpetual and will not be revoked by OASIS or its successors or assigns.</p>
<p>This document and the information contained herein is provided on an ‚ÄúAS IS‚Äù basis and OASIS DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</p>
<p>As stated in the OASIS IPR Policy, the following three paragraphs in brackets apply to OASIS Standards Final Deliverable documents (Committee Specification, Candidate OASIS Standard, OASIS Standard, or Approved Errata).</p>
<p>[OASIS requests that any OASIS Party or any other party that believes it has patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable, to notify OASIS TC Administrator and provide an indication of its willingness to grant patent licenses to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this deliverable.]</p>
<p>[OASIS invites any party to contact the OASIS TC Administrator if it is aware of a claim of ownership of any patent claims that would necessarily be infringed by implementations of this OASIS Standards Final Deliverable by a patent holder that is not willing to provide a license to such patent claims in a manner consistent with the IPR Mode of the OASIS Technical Committee that produced this OASIS Standards Final Deliverable. OASIS may include such claims on its website, but disclaims any obligation to do so.]</p>
<p>[OASIS takes no position regarding the validity or scope of any intellectual property or other rights that might be claimed to pertain to the implementation or use of the technology described in this OASIS Standards Final Deliverable or the extent to which any license under such rights might or might not be available; neither does it represent that it has made any effort to identify any such rights. Information on OASIS‚Äô procedures with respect to rights in any document or deliverable produced by an OASIS Technical Committee can be found on the OASIS website. Copies of claims of rights made available for publication and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this OASIS Standards Final Deliverable, can be obtained from the OASIS TC Administrator. OASIS makes no representation that any information or list of intellectual property rights will at any time be complete, or that any claims in such list are, in fact, Essential Claims.]</p>
<p>The name ‚ÄúOASIS‚Äù is a trademark of <a href="https://www.oasis-open.org/">OASIS</a>, the owner and developer of this specification, and should be used only to refer to the organization and its official outputs. OASIS welcomes reference to, and implementation and use of, specifications, while reserving the right to enforce its marks against misleading uses. Please see <a href="https://www.oasis-open.org/policies-guidelines/trademark/">https://www.oasis-open.org/policies-guidelines/trademark/</a> for above guidance.</p>
</body>
</html>
